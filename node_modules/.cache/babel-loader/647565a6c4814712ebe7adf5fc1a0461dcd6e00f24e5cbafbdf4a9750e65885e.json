{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport { addObj, getObj, putObj, getWordList, getMainList, getSubjectList } from '@/api';\nVue.directive('focus', {\n  // 当绑定元素插入到 DOM 中。\n  inserted: function (el) {\n    // 聚焦元素\n    el.focus();\n  }\n});\nexport default {\n  name: \"voucherForm\",\n  props: ['id'],\n  // components: {\n  //   'main-selector': () => import('./components/mainSelector'),\n  //   'subject-selector': () => import('./components/subjectSelector'),\n  //   'auxiliary-selector': () => import('./components/auxiliarySelector'),\n  // },\n  data() {\n    return {\n      voucher: {\n        word: '记',\n        no: 1,\n        date: new Date(),\n        bill: 0\n      },\n      list: [{\n        main: '',\n        isShowMainInput: false,\n        subject: {\n          number: '',\n          name: '',\n          detailJson: ''\n        },\n        isShowSubjectInput: false,\n        debtor: '',\n        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowDebtorInput: false,\n        lender: '',\n        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowLenderInput: false,\n        isAuxiliary: false,\n        auxiliary: ''\n      }, {\n        main: '',\n        isShowMainInput: false,\n        subject: {\n          number: '',\n          name: '',\n          detailJson: ''\n        },\n        isShowSubjectInput: false,\n        debtor: '',\n        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowDebtorInput: false,\n        lender: '',\n        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowLenderInput: false,\n        isAuxiliary: false,\n        auxiliary: ''\n      }, {\n        main: '',\n        isShowMainInput: false,\n        subject: {\n          number: '',\n          name: '',\n          detailJson: ''\n        },\n        isShowSubjectInput: false,\n        debtor: '',\n        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowDebtorInput: false,\n        lender: '',\n        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowLenderInput: false,\n        isAuxiliary: false,\n        auxiliary: ''\n      }, {\n        main: '',\n        isShowMainInput: false,\n        subject: {\n          number: '',\n          name: '',\n          detailJson: ''\n        },\n        isShowSubjectInput: false,\n        debtor: '',\n        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowDebtorInput: false,\n        lender: '',\n        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowLenderInput: false,\n        isAuxiliary: false,\n        auxiliary: ''\n      }],\n      debtorTotal: 0,\n      debtorTotalList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n      lenderTotal: 0,\n      lenderTotalList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n      wordList: [],\n      mainList: [],\n      subjectList: [],\n      dialogMainVisible: false,\n      dialogSubjectVisible: false,\n      dialogAuxiliaryVisible: false,\n      dialogMainIndex: 0,\n      dialogSubjectIndex: 0,\n      dialogAuxiliaryIndex: 0,\n      isAuxiliary: false,\n      saveVisible: true,\n      billNo: ''\n    };\n  },\n  mounted() {\n    document.addEventListener('keydown', this.handleEvent);\n    getWordList().then(response => {\n      this.wordList = response.data.records;\n    });\n    getMainList().then(response => {\n      this.mainList = response.data.records;\n    });\n    getSubjectList().then(response => {\n      this.subjectList = response.data.records;\n    });\n    this.init();\n  },\n  updated() {\n    //给特定区域添加ID   绑定onmousedown 事件\n    var chargeContainer = document.getElementById('chargeContainer');\n    var outDiv = chargeContainer.getElementsByClassName('special-elements');\n    for (var i = 0; i < outDiv.length; i++) {\n      outDiv[i].onmousedown = function (e) {\n        //现代浏览器阻止默认事件\n        if (e && e.preventDefault) e.preventDefault();\n        //IE阻止默认事件\n        else window.event.returnValue = false;\n        return false;\n      };\n    }\n  },\n  methods: {\n    judgeIsAuxiliary() {\n      var flag = false;\n      for (var i in this.list) {\n        var detailJson = this.list[i].subject.detailJson;\n        if (detailJson !== '' && detailJson !== undefined) {\n          flag = true;\n          this.list[i].isAuxiliary = true;\n        } else {\n          this.list[i].isAuxiliary = false;\n          this.list[i].auxiliary = '';\n        }\n      }\n      this.isAuxiliary = flag;\n    },\n    openMainDialog() {\n      this.dialogMainVisible = true;\n    },\n    closeMainDialog(main) {\n      if (!main.isTrusted) {\n        this.list[this.dialogMainIndex].main = main;\n      }\n      this.dialogMainVisible = false;\n    },\n    openSubjectDialog() {\n      this.dialogSubjectVisible = true;\n    },\n    closeSubjectDialog(sub) {\n      if (!sub.isTrusted) {\n        this.list[this.dialogSubjectIndex].subject = sub;\n      }\n      this.dialogSubjectVisible = false;\n      this.judgeIsAuxiliary();\n    },\n    openAuxiliaryDialog() {\n      this.dialogAuxiliaryVisible = true;\n    },\n    closeAuxiliaryDialog(aux) {\n      if (!aux.isTrusted) {\n        this.list[this.dialogAuxiliaryIndex].auxiliary = aux;\n      }\n      this.dialogAuxiliaryVisible = false;\n    },\n    clearAuxiliary(index, e) {\n      this.list[index].auxiliary = '';\n    },\n    handleEvent(event) {\n      //console.log(event);\n      if (window.location.hash == '#/general_ledger/voucher_entry') {\n        if (event.keyCode === 83 && event.ctrlKey) {\n          //console.log('拦截到83+ctrl');\n          this.preservation(2);\n          event.preventDefault();\n          event.returnValue = false;\n          return false;\n        } else if (event.keyCode === 115) {\n          //console.log('拦截到115');//F4\n          this.addList();\n          event.preventDefault();\n          event.returnValue = false;\n          return false;\n        } else if (event.keyCode === 121) {\n          //console.log('拦截到121');//F10\n          event.preventDefault();\n          event.returnValue = false;\n          return false;\n        } else if (event.keyCode === 122) {\n          //console.log('拦截到122');//F11\n          event.preventDefault();\n          event.returnValue = false;\n          return false;\n        }\n      } else {\n        //需要销毁事件 防止全局生效\n        //document.removeEventListener('keydown', this.handleEvent);\n      }\n    },\n    showInput(index, type) {\n      for (var i in this.list) {\n        this.list[i].isShowDebtorInput = false;\n        this.list[i].isShowLenderInput = false;\n        this.list[i].isShowMainInput = false;\n        this.list[i].isShowSubjectInput = false;\n        if (i == index && type == 'debtor') {\n          this.list[index].isShowDebtorInput = true;\n        } else if (i == index && type == 'lender') {\n          this.list[index].isShowLenderInput = true;\n        } else if (i == index && type == 'main') {\n          this.list[index].isShowMainInput = true;\n        } else if (i == index && type == 'subject') {\n          this.list[index].isShowSubjectInput = true;\n        }\n      }\n    },\n    hideInput(index, type) {\n      if (type == 'debtor') {\n        //判断是否有小数点\n        var inx = this.list[index].debtor.indexOf('.');\n        if (inx != -1 && this.list[index].debtor.length - 1 != inx) {\n          this.list[index].debtor = (this.list[index].debtor * 1).toFixed(4);\n        }\n        this.list[index].isShowDebtorInput = false;\n      } else if (type == 'lender') {\n        //判断是否有小数点\n        var inx = this.list[index].lender.indexOf('.');\n        if (inx != -1 && this.list[index].lender.length - 1 != inx) {\n          this.list[index].lender = (this.list[index].lender * 1).toFixed(4);\n        }\n        this.list[index].isShowLenderInput = false;\n      } else if (type == 'main') {\n        this.list[index].isShowMainInput = false;\n      } else if (type == 'subject') {\n        this.list[index].isShowSubjectInput = false;\n      }\n    },\n    voluationInput(index, type, val) {\n      if (type == 'main') {\n        this.list[index].main = val;\n        this.list[index].isShowMainInput = false;\n      } else if (type == 'subject') {\n        this.list[index].subject.number = val.number;\n        this.list[index].subject.name = val.name;\n        this.list[index].subject.detailJson = val.detailJson;\n        this.list[index].isShowSubjectInput = false;\n      }\n      this.judgeIsAuxiliary();\n    },\n    selectionList(index, type) {\n      //console.log('弹出选择列表');\n      if (type == 'main') {\n        this.dialogMainIndex = index;\n        this.openMainDialog();\n      } else if (type == 'subject') {\n        this.dialogSubjectIndex = index;\n        this.openSubjectDialog();\n      } else if (type == 'auxiliary') {\n        this.dialogAuxiliaryIndex = index;\n        this.openAuxiliaryDialog();\n      }\n    },\n    keyupEvents(index, e, remaind) {\n      if (e.keyCode == 37) {\n        //console.log('拦截到37');//左\n        this.keyboardEvents('left', index * 4 + remaind);\n        return;\n      } else if (e.keyCode == 38) {\n        //console.log('拦截到38');//上\n        this.keyboardEvents('up', index * 4 + remaind);\n        return;\n      } else if (e.keyCode == 39) {\n        //console.log('拦截到39');//右\n        this.keyboardEvents('right', index * 4 + remaind);\n        return;\n      } else if (e.keyCode == 40) {\n        //console.log('拦截到40');//下\n        this.keyboardEvents('down', index * 4 + remaind);\n        return;\n      } else if (e.keyCode == 13) {\n        //console.log('拦截到13');//enter键\n        this.keyboardEvents('enter', index * 4 + remaind);\n        return;\n      } else if (e.keyCode == 118) {\n        //console.log('拦截到118');//F7\n        if (remaind == 1) {\n          this.selectionList(index, 'main');\n        } else if (remaind == 2) {\n          this.selectionList(index, 'subject');\n        }\n        return;\n      }\n      var main = this.list[index].main;\n      var subject = this.list[index].subject.name;\n      if (index - 1 >= 0) {\n        if (main.indexOf('//') != -1 || subject.indexOf('//') != -1) {\n          this.list[index].main = this.list[index - 1].main;\n          this.list[index].subject = this.list[index - 1].subject;\n          this.list[index].debtor = this.list[index - 1].debtor;\n          this.list[index].debtorList = this.list[index - 1].debtorList;\n          this.list[index].lender = this.list[index - 1].lender;\n          this.list[index].lenderList = this.list[index - 1].lenderList;\n          this.list[index].auxiliary = this.list[index - 1].auxiliary;\n          this.calcDebtorTotal();\n          this.calcLenderTotal();\n        }\n        if (main.indexOf('..') != -1) {\n          this.list[index].main = this.list[index - 1].main;\n        }\n      }\n      //判断是否显示辅助核算\n      this.judgeIsAuxiliary();\n    },\n    keyboardEvents(type, number) {\n      var total = this.list.length * 4;\n      if (type == 'enter') {\n        number++;\n      } else if (type == 'left' && number - 1 > 0) {\n        number--;\n      } else if (type == 'right' && number + 1 <= total) {\n        number++;\n      } else if (type == 'up' && number - 4 > 0) {\n        number = number - 4;\n      } else if (type == 'down' && number + 4 <= total) {\n        number = number + 4;\n      }\n      if (type == 'enter' && number > total) {\n        this.addList();\n      }\n      var index = parseInt(number / 4);\n      var remaind = number % 4;\n      if (remaind == 1) {\n        this.showInput(index, 'main');\n      } else if (remaind == 2) {\n        this.showInput(index, 'subject');\n      } else if (remaind == 3) {\n        this.showInput(index, 'debtor');\n      } else if (remaind == 0) {\n        this.showInput(index - 1, 'lender');\n      }\n    },\n    debtorInputKeyUp(index, e, remaind) {\n      //console.log(e);\n      //this.list[index].debtor=this.list[index].debtor.replace(/\\D/g,'');\n      if (e.keyCode === 187) {\n        this.calcDebtorTotal(index);\n        this.calcLenderTotal(index);\n        var cha = this.lenderTotal - this.debtorTotal;\n        if (cha == 0) {\n          cha = '';\n        }\n        this.list[index].debtor = cha + '';\n      } else if (e.keyCode === 32) {\n        this.list[index].isShowLenderInput = true;\n        this.list[index].isShowDebtorInput = false;\n        this.list[index].lender = this.list[index].debtor.trim();\n        this.list[index].debtor = '';\n        this.list[index].debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        var lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        this.list[index].lenderList = this.collatingData(this.list[index].lender, lenderList);\n        this.calcDebtorTotal();\n        this.calcLenderTotal();\n        return;\n      } else if (e.keyCode >= 37 && e.keyCode <= 40 || e.keyCode == 13) {\n        this.keyupEvents(index, e, remaind);\n        return;\n      }\n      this.list[index].lender = '';\n      this.list[index].lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      var debtor = this.list[index].debtor;\n      var debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      this.list[index].debtorList = this.collatingData(debtor, debtorList);\n      this.calcDebtorTotal();\n      this.calcLenderTotal();\n    },\n    calcDebtorTotal(index) {\n      var debtorTotal = 0;\n      for (var i in this.list) {\n        if (this.list[i].debtor != null && this.list[i].debtor != '') {\n          if (!(index && index == i)) {\n            debtorTotal += this.list[i].debtor * 1;\n          }\n        }\n      }\n      this.debtorTotal = debtorTotal;\n      debtorTotal = debtorTotal + '';\n      var debtorTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      this.debtorTotalList = this.collatingData(debtorTotal, debtorTotalList);\n    },\n    lenderInputKeyUp(index, e, remaind) {\n      //this.list[index].lender=this.list[index].lender.replace(/\\D/g,'');\n      if (e.keyCode === 187) {\n        this.calcDebtorTotal(index);\n        this.calcLenderTotal(index);\n        var cha = this.debtorTotal - this.lenderTotal;\n        if (cha == 0) {\n          cha = '';\n        }\n        this.list[index].lender = cha + '';\n      } else if (e.keyCode === 32) {\n        this.list[index].isShowDebtorInput = true;\n        this.list[index].isShowLenderInput = false;\n        this.list[index].debtor = this.list[index].lender.trim();\n        this.list[index].lender = '';\n        this.list[index].lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        var debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        this.list[index].debtorList = this.collatingData(this.list[index].debtor, debtorList);\n        this.calcLenderTotal();\n        this.calcDebtorTotal();\n        return;\n      } else if (e.keyCode >= 37 && e.keyCode <= 40 || e.keyCode == 13) {\n        this.keyupEvents(index, e, remaind);\n        return;\n      }\n      this.list[index].debtor = '';\n      this.list[index].debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      var lender = this.list[index].lender;\n      var lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      this.list[index].lenderList = this.collatingData(lender, lenderList);\n      this.calcLenderTotal();\n      this.calcDebtorTotal();\n    },\n    calcLenderTotal(index) {\n      var lenderTotal = 0;\n      for (var i in this.list) {\n        if (this.list[i].lender != null && this.list[i].lender != '') {\n          if (!(index && index == i)) {\n            lenderTotal += this.list[i].lender * 1;\n          }\n        }\n      }\n      this.lenderTotal = lenderTotal;\n      lenderTotal = lenderTotal + '';\n      var lenderTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n      this.lenderTotalList = this.collatingData(lenderTotal, lenderTotalList);\n    },\n    addList() {\n      var obj = {\n        main: '',\n        isShowMainInput: false,\n        subject: {\n          number: '',\n          name: '',\n          detailJson: ''\n        },\n        isShowSubjectInput: false,\n        debtor: '',\n        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowDebtorInput: false,\n        lender: '',\n        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n        isShowLenderInput: false,\n        isAuxiliary: false,\n        auxiliary: ''\n      };\n      this.list.push(obj);\n    },\n    removeList(index) {\n      if (this.list.length <= 2) {\n        this.$message.error('至少保存两行');\n        return;\n      }\n      this.list.splice(index, 1);\n      this.calcDebtorTotal();\n      this.calcLenderTotal();\n    },\n    collatingData(debtor, debtorList) {\n      debtor = debtor.replace(/-/g, '');\n      //判断是否有小数点\n      if (debtor.indexOf('.') != -1) {\n        debtor = (debtor * 1).toFixed(4);\n        debtor = (debtor + '').replace(/\\./g, '');\n      } else {\n        debtor = debtor + '00';\n      }\n      if (debtor.length <= 11) {\n        var cha = debtorList.length - debtor.length;\n        for (var i = 0; i < debtor.length; i++) {\n          debtorList[i + cha] = debtor.charAt(i);\n        }\n      } else {\n        for (var i = 0; i < debtor.length; i++) {\n          debtorList[i] = debtor.charAt(i);\n        }\n      }\n      return debtorList;\n    },\n    checkListData() {\n      if ((this.debtorTotal != 0 || this.lenderTotal != 0) && this.lenderTotal * 1 != this.debtorTotal * 1) {\n        this.$message.error('凭证借贷不平衡，请检查');\n        return;\n      }\n      var mainFlag = true;\n      for (var i in this.list) {\n        if (this.list[i].main != null && this.list[i].main != '') {\n          mainFlag = false;\n        }\n        if (this.list[i].subject.name == null || this.list[i].subject.name == '') {\n          this.$message.error('第' + (i * 1 + 1) + '行中的会计科目为必填项，请填写了再提交');\n          return;\n        }\n        if ((this.list[i].debtor == null || this.list[i].debtor == '') && (this.list[i].lender == null || this.list[i].lender == '')) {\n          this.$message.error('第' + (i * 1 + 1) + '行中借方金额、贷方金额必须填一个，请填写了再提交');\n          return;\n        }\n      }\n      if (mainFlag) {\n        this.$message.error('必须填写一个摘要，请填写了再提交');\n        return;\n      }\n      var list = [];\n      for (var a = 0; a < this.list.length; a++) {\n        var obj = {\n          explanation: this.list[a].main,\n          accountNumber: this.list[a].subject.number,\n          accountName: this.list[a].subject.name,\n          auxiliaryType: this.list[a].subject.detailJson,\n          itemObjectKeys: this.list[a].auxiliary,\n          basicDebitAmount: this.list[a].debtor,\n          basicCreditAmount: this.list[a].lender\n        };\n        list.push(obj);\n      }\n      var reqObj = {\n        id: this.id,\n        billNo: this.billNo,\n        billStatus: 2,\n        voucherType: this.voucher.word,\n        voucherNumber: this.voucher.no,\n        year: this.formatDate(\"yyyy-MM-dd hh:mm:ss\", this.voucher.date),\n        creditTotal: this.lenderTotal,\n        debitTotal: this.debtorTotal,\n        attachments: this.voucher.bill,\n        list: list\n      };\n      return reqObj;\n    },\n    formatDate(fmt, date) {\n      if (typeof date === 'string') {\n        date = new Date(date);\n      }\n      var o = {\n        \"M+\": date.getMonth() + 1,\n        //月份\n        \"d+\": date.getDate(),\n        //日\n        \"h+\": date.getHours(),\n        //小时\n        \"m+\": date.getMinutes(),\n        //分\n        \"s+\": date.getSeconds(),\n        //秒\n        \"q+\": Math.floor((date.getMonth() + 3) / 3),\n        //季度\n        \"S\": date.getMilliseconds() //毫秒\n      };\n      if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n      for (var k in o) if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n      return fmt;\n    },\n    preservation(status) {\n      var reqObj = this.checkListData();\n      //console.log(reqObj);\n\n      if (reqObj) {\n        addObj(reqObj).then(response => {\n          if (response.code == '2000') {\n            this.$notify({\n              title: '成功',\n              message: '创建成功',\n              type: 'success',\n              duration: 2000\n            });\n            this.init();\n          } else {\n            this.$notify({\n              title: '失败',\n              message: response.msg,\n              type: 'warning',\n              duration: 2000\n            });\n          }\n        });\n      }\n    },\n    onSubmit() {\n      var reqObj = this.checkListData();\n      //console.log(reqObj);\n\n      if (reqObj) {\n        putObj(this.id, reqObj).then(response => {\n          if (response.code == '2000') {\n            this.$notify({\n              title: '成功',\n              message: '修改成功',\n              type: 'success',\n              duration: 2000\n            });\n            this.$emit('submitSuccess', response);\n          } else {\n            this.$notify({\n              title: '失败',\n              message: response.msg,\n              type: 'warning',\n              duration: 2000\n            });\n          }\n        });\n      }\n    },\n    init() {\n      if (this.id !== '' && this.id !== undefined) {\n        getObj(this.id).then(response => {\n          const data = response.data;\n          this.voucher = {\n            word: data.voucherType,\n            no: data.voucherNumber,\n            date: data.year,\n            bill: data.attachments\n          };\n          this.list = [];\n          var isAuxiliary = false;\n          for (var i = 0; i < data.list.length; i++) {\n            var debtor = data.list[i].basicDebitAmount == 0 ? '' : data.list[i].basicDebitAmount + '';\n            var debtorList = debtor == '' ? ['', '', '', '', '', '', '', '', 0, 0, 0] : this.collatingData(debtor, ['', '', '', '', '', '', '', '', 0, 0, 0]);\n            var lender = data.list[i].basicCreditAmount == 0 ? '' : data.list[i].basicCreditAmount + '';\n            var lenderList = lender == '' ? ['', '', '', '', '', '', '', '', 0, 0, 0] : this.collatingData(lender, ['', '', '', '', '', '', '', '', 0, 0, 0]);\n            if (data.list[i].itemObjectKeys != null && data.list[i].itemObjectKeys != '') {\n              isAuxiliary = true;\n            }\n            var obj = {\n              main: data.list[i].explanation,\n              isShowMainInput: false,\n              subject: {\n                number: data.list[i].accountNumber,\n                name: data.list[i].accountName,\n                detailJson: data.list[i].auxiliaryType\n              },\n              isShowSubjectInput: false,\n              debtor: debtor,\n              debtorList: debtorList,\n              isShowDebtorInput: false,\n              lender: lender,\n              lenderList: lenderList,\n              isShowLenderInput: false,\n              isAuxiliary: data.list[i].itemObjectKeys == '' ? false : true,\n              auxiliary: data.list[i].itemObjectKeys\n            };\n            this.list.push(obj);\n          }\n          this.debtorTotal = data.debitTotal + '';\n          this.debtorTotalList = this.collatingData(this.debtorTotal, ['', '', '', '', '', '', '', '', 0, 0, 0]);\n          this.lenderTotal = data.creditTotal + '';\n          this.lenderTotalList = this.collatingData(this.lenderTotal, ['', '', '', '', '', '', '', '', 0, 0, 0]);\n          this.dialogMainVisible = false;\n          this.dialogSubjectVisible = false;\n          this.dialogAuxiliaryVisible = false;\n          this.saveVisible = false;\n          this.dialogMainIndex = 0;\n          this.dialogSubjectIndex = 0;\n          this.dialogAuxiliaryIndex = 0;\n          this.isAuxiliary = isAuxiliary;\n          this.billNo = data.billNo;\n        });\n      } else {\n        this.voucher = {\n          word: '记',\n          no: 1,\n          date: new Date(),\n          bill: 0\n        };\n        this.list = [{\n          main: '',\n          isShowMainInput: false,\n          subject: {\n            number: '',\n            name: '',\n            detailJson: ''\n          },\n          isShowSubjectInput: false,\n          debtor: '',\n          debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowDebtorInput: false,\n          lender: '',\n          lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowLenderInput: false,\n          isAuxiliary: false,\n          auxiliary: ''\n        }, {\n          main: '',\n          isShowMainInput: false,\n          subject: {\n            number: '',\n            name: '',\n            detailJson: ''\n          },\n          isShowSubjectInput: false,\n          debtor: '',\n          debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowDebtorInput: false,\n          lender: '',\n          lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowLenderInput: false,\n          isAuxiliary: false,\n          auxiliary: ''\n        }, {\n          main: '',\n          isShowMainInput: false,\n          subject: {\n            number: '',\n            name: '',\n            detailJson: ''\n          },\n          isShowSubjectInput: false,\n          debtor: '',\n          debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowDebtorInput: false,\n          lender: '',\n          lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowLenderInput: false,\n          isAuxiliary: false,\n          auxiliary: ''\n        }, {\n          main: '',\n          isShowMainInput: false,\n          subject: {\n            number: '',\n            name: '',\n            detailJson: ''\n          },\n          isShowSubjectInput: false,\n          debtor: '',\n          debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowDebtorInput: false,\n          lender: '',\n          lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\n          isShowLenderInput: false,\n          isAuxiliary: false,\n          auxiliary: ''\n        }];\n        this.debtorTotal = 0;\n        this.debtorTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        this.lenderTotal = 0;\n        this.lenderTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\n        this.dialogMainVisible = false;\n        this.dialogSubjectVisible = false;\n        this.dialogAuxiliaryVisible = false;\n        this.dialogMainIndex = 0;\n        this.dialogSubjectIndex = 0;\n        this.dialogAuxiliaryIndex = 0;\n        this.isAuxiliary = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["Vue","addObj","getObj","putObj","getWordList","getMainList","getSubjectList","directive","inserted","el","focus","name","props","data","voucher","word","no","date","Date","bill","list","main","isShowMainInput","subject","number","detailJson","isShowSubjectInput","debtor","debtorList","isShowDebtorInput","lender","lenderList","isShowLenderInput","isAuxiliary","auxiliary","debtorTotal","debtorTotalList","lenderTotal","lenderTotalList","wordList","mainList","subjectList","dialogMainVisible","dialogSubjectVisible","dialogAuxiliaryVisible","dialogMainIndex","dialogSubjectIndex","dialogAuxiliaryIndex","saveVisible","billNo","mounted","document","addEventListener","handleEvent","then","response","records","init","updated","chargeContainer","getElementById","outDiv","getElementsByClassName","i","length","onmousedown","e","preventDefault","window","event","returnValue","methods","judgeIsAuxiliary","flag","undefined","openMainDialog","closeMainDialog","isTrusted","openSubjectDialog","closeSubjectDialog","sub","openAuxiliaryDialog","closeAuxiliaryDialog","aux","clearAuxiliary","index","location","hash","keyCode","ctrlKey","preservation","addList","showInput","type","hideInput","inx","indexOf","toFixed","voluationInput","val","selectionList","keyupEvents","remaind","keyboardEvents","calcDebtorTotal","calcLenderTotal","total","parseInt","debtorInputKeyUp","cha","trim","collatingData","lenderInputKeyUp","obj","push","removeList","$message","error","splice","replace","charAt","checkListData","mainFlag","a","explanation","accountNumber","accountName","auxiliaryType","itemObjectKeys","basicDebitAmount","basicCreditAmount","reqObj","id","billStatus","voucherType","voucherNumber","year","formatDate","creditTotal","debitTotal","attachments","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","RegExp","$1","getFullYear","substr","k","status","code","$notify","title","message","duration","msg","onSubmit","$emit"],"sources":["src/views/voucher/Voucher.vue"],"sourcesContent":["<template>\r\n    <div class=\"charge-container\" id=\"chargeContainer\">\r\n        <div class=\"charge\">\r\n            <!--<h1 class=\"charge-title\">记账凭证</h1>-->\r\n            <div class=\"charge-header\">\r\n                <div>\r\n                    凭证字\r\n                    <el-select style=\"width: 80px;\" v-model=\"voucher.word\">\r\n                        <el-option v-for=\"item in wordList\" :key=\"item.name\" :label=\"item.name\" :value=\"item.name\">\r\n                        </el-option>\r\n                    </el-select>\r\n\r\n                </div>\r\n\r\n                <div>\r\n                    凭证号\r\n                    <el-input type=\"number\" style=\"width: 80px;\" min=\"1\" v-model=\"voucher.no\"></el-input>\r\n                </div>\r\n\r\n                <div>\r\n                    日期\r\n                    <el-date-picker type=\"date\" style=\"width: 145px;\" v-model=\"voucher.date\"></el-date-picker>\r\n                </div>\r\n\r\n                <div style=\"font-size: 24px;\">记账凭证</div>\r\n\r\n                <div style=\"float: right;position: relative;\">\r\n                    附单据\r\n                    <el-input type=\"number\" style=\"width: 80px;\" min=\"0\" v-model=\"voucher.bill\"></el-input>\r\n                    张\r\n                    <i class=\"el-icon-info\"></i>\r\n                    <div class=\"tip-box\">\r\n                        <table class=\"tip-box-table\" border=\"1\">\r\n                            <tr style=\"background-color: #f5f4f4;\">\r\n                                <td>操作</td>\r\n                                <td>快捷键</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>选择列表</td>\r\n                                <td>F7</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>自动平衡</td>\r\n                                <td>=</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>新增</td>\r\n                                <td>F4</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>保存</td>\r\n                                <td>Ctrl+S</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>保存并审核</td>\r\n                                <td>F10</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>保存并新增</td>\r\n                                <td>F11</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>复制上一行</td>\r\n                                <td>//</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>复制上一行摘要</td>\r\n                                <td>..</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>金额自动切换借贷方</td>\r\n                                <td>空格键</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>单据头与分录快速切换</td>\r\n                                <td>Tab</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <table class=\"charge-table\" border=\"1\">\r\n                <tr>\r\n                    <td width=\"6%\">操作</td>\r\n                    <td :width=\"isAuxiliary ? '14%' : '22%'\">摘要</td>\r\n                    <td :width=\"isAuxiliary ? '15%' : '22%'\">会计科目</td>\r\n                    <td width=\"14%\" v-if=\"isAuxiliary\">辅助核算</td>\r\n                    <td width=\"50%\">\r\n                        <table style=\"height: 50px;\">\r\n                            <tr style=\"border-bottom: 1px solid #bab9b9;\">\r\n                                <td width=\"50%\" style=\"border-right: 1px solid #bab9b9;\">借方金额</td>\r\n                                <td width=\"50%\">贷方金额</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style=\"border-right: 1px solid #bab9b9;\">\r\n                                    <table class=\"debtor-lender-table\" style=\"height: 100%;\">\r\n                                        <tr>\r\n                                            <td>亿</td>\r\n                                            <td>千</td>\r\n                                            <td>百</td>\r\n                                            <td>十</td>\r\n                                            <td>万</td>\r\n                                            <td>千</td>\r\n                                            <td>百</td>\r\n                                            <td>十</td>\r\n                                            <td>元</td>\r\n                                            <td>角</td>\r\n                                            <td>分</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                                <td>\r\n                                    <table class=\"debtor-lender-table\" style=\"height: 100%;\">\r\n                                        <tr>\r\n                                            <td>亿</td>\r\n                                            <td>千</td>\r\n                                            <td>百</td>\r\n                                            <td>十</td>\r\n                                            <td>万</td>\r\n                                            <td>千</td>\r\n                                            <td>百</td>\r\n                                            <td>十</td>\r\n                                            <td>元</td>\r\n                                            <td>角</td>\r\n                                            <td>分</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n                <tr v-for=\"(item, index) in list\">\r\n                    <td>\r\n                        <div @click=\"addList\" class=\"charge-table-icon\">\r\n                            <i class=\"el-icon-plus\" style=\"color: orangered;\"></i>\r\n                        </div>\r\n                        <div @click=\"removeList(index)\" class=\"charge-table-icon\">\r\n                            <i class=\"el-icon-close\" style=\"color: #4a90e2;\"></i>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <div @click=\"showInput(index, 'main')\" v-if=\"!item.isShowMainInput\" class=\"main-subject\">\r\n                            <!--{{item.main}}-->\r\n                            <textarea v-model=\"item.main\"></textarea>\r\n                        </div>\r\n                        <div class=\"main-subject\" v-if=\"item.isShowMainInput\">\r\n                            <!--<input type=\"text\" v-model=\"item.main\" @blur=\"hideInput(index,'main')\" v-focus @keyup=\"keyupEvents(index,$event,1)\">-->\r\n                            <textarea v-model=\"item.main\" @blur=\"hideInput(index, 'main')\" v-focus\r\n                                @keyup=\"keyupEvents(index, $event, 1)\"></textarea>\r\n\r\n                            <div class=\"dropdown-menu suggest-list special-elements\" style=\"top: 60px;\">\r\n                                <ul class=\"item-list\">\r\n                                    <li v-for=\"main in mainList\" v-if=\"main.name.indexOf(item.main.trim()) != -1\"\r\n                                        :class=\"main.name == item.main ? 'hover' : ''\"\r\n                                        @click=\"voluationInput(index, 'main', main.name)\">{{ main.name }}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <i v-if=\"item.isShowMainInput\" class=\"el-icon-more special-elements\"\r\n                            @click=\"selectionList(index, 'main')\"></i>\r\n                    </td>\r\n                    <td>\r\n                        <div @click=\"showInput(index, 'subject')\" v-if=\"!item.isShowSubjectInput\" class=\"main-subject\">\r\n                            <!--{{item.subject}}-->\r\n                            <textarea v-model=\"item.subject.name\"></textarea>\r\n                        </div>\r\n                        <div class=\"main-subject\" v-if=\"item.isShowSubjectInput\">\r\n                            <!--<input type=\"text\" v-model=\"item.subject\" @blur=\"hideInput(index,'subject')\" v-focus @keyup=\"keyupEvents(index,$event,2)\">-->\r\n                            <textarea v-model=\"item.subject.name\" @blur=\"hideInput(index, 'subject')\" v-focus\r\n                                @keyup=\"keyupEvents(index, $event, 2)\"></textarea>\r\n\r\n                            <div class=\"dropdown-menu suggest-list special-elements\" style=\"top: 60px;\">\r\n                                <ul class=\"item-list\">\r\n                                    <li v-for=\"subject in subjectList\"\r\n                                        v-if=\"subject.name.indexOf(item.subject.name.trim()) != -1\"\r\n                                        :class=\"subject.name == item.subject.name ? 'hover' : ''\"\r\n                                        @click=\"voluationInput(index, 'subject', subject)\">\r\n                                        {{ subject.name }}\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <i v-if=\"item.isShowSubjectInput\" class=\"el-icon-more special-elements\"\r\n                            @click=\"selectionList(index, 'subject')\"></i>\r\n                    </td>\r\n                    <td v-if=\"isAuxiliary\" :disabled=\"!item.isAuxiliary\" :class=\"item.isAuxiliary ? '' : 'td-auxiliary-dis'\">\r\n                        <div class=\"auxiliary-accounting\" v-if=\"item.isAuxiliary\" @click=\"selectionList(index, 'auxiliary')\">\r\n                            <div v-if=\"item.auxiliary && item.auxiliary != ''\" class=\"auxiliary-single\">\r\n                                <span>{{ item.auxiliary }}</span>\r\n                                <i class=\"el-icon-close\" @click.stop=\"clearAuxiliary(index, $event)\"></i>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td>\r\n                        <table>\r\n                            <tr>\r\n                                <td width=\"50%\" style=\"border-right: 1px solid #bab9b9;\">\r\n                                    <table class=\"debtor-tbale debtor-lender-table\">\r\n                                        <tr @click=\"showInput(index, 'debtor')\" v-if=\"!item.isShowDebtorInput\"\r\n                                            :class=\"item.debtor * 1 < 0 ? 'tr-negative' : ''\">\r\n                                            <td v-for=\"debtor in item.debtorList\">{{ debtor }}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if=\"item.isShowDebtorInput\">\r\n                                            <input @blur=\"hideInput(index, 'debtor')\"\r\n                                                @keyup=\"debtorInputKeyUp(index, $event, 3)\" v-model=\"item.debtor\"\r\n                                                maxlength=\"12\" v-focus\r\n                                                onkeypress=\"if((event.keyCode<48 || event.keyCode>57) && event.keyCode!=46 || /\\.\\d\\d$/.test(value))event.returnValue=false\">\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                                <td width=\"50%\">\r\n                                    <table class=\"lender-tbale debtor-lender-table\">\r\n                                        <tr v-if=\"!item.isShowLenderInput\" @click=\"showInput(index, 'lender')\"\r\n                                            :class=\"item.lender * 1 < 0 ? 'tr-negative' : ''\">\r\n                                            <td v-for=\"lender in item.lenderList\">{{ lender }}</td>\r\n                                        </tr>\r\n\r\n                                        <tr v-if=\"item.isShowLenderInput\">\r\n                                            <input @blur=\"hideInput(index, 'lender')\"\r\n                                                @keyup=\"lenderInputKeyUp(index, $event, 4)\" v-model=\"item.lender\"\r\n                                                maxlength=\"11\" v-focus\r\n                                                onkeypress=\"if (event.keyCode < 48 || event.keyCode > 57) event.returnValue = false;\">\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td :colspan=\"isAuxiliary ? 4 : 3\" style=\"text-align: left;padding-left: 10px;\">合计：</td>\r\n                    <td>\r\n                        <table>\r\n                            <tr>\r\n                                <td width=\"50%\" style=\"border-right: 1px solid #bab9b9;\">\r\n                                    <table class=\"debtor-tbale debtor-lender-table\">\r\n                                        <tr>\r\n                                            <td v-for=\"debtor in debtorTotalList\">{{ debtor }}</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                                <td width=\"50%\">\r\n                                    <table class=\"lender-tbale debtor-lender-table\">\r\n                                        <tr>\r\n                                            <td v-for=\"lender in lenderTotalList\">{{ lender }}</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div style=\"height: 50px;line-height: 50px;\">制单人：</div>\r\n            <div style=\"text-align: right;\" v-show=\"saveVisible\">\r\n                <el-button @click=\"preservation(1)\">暂存</el-button>\r\n                <el-button type=\"primary\" @click=\"preservation(2)\">保存</el-button>\r\n            </div>\r\n        </div>\r\n\r\n        <!--<el-dialog title=\"摘要列表\" width=\"30%\" :visible.sync=\"dialogMainVisible\">\r\n        <main-selector @closeMainDialog=\"closeMainDialog\" ref=\"mainSelector\"></main-selector>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"closeMainDialog\">取消</el-button>\r\n              <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" icon=\"edit\">确认</el-button>\r\n            </span>\r\n      </el-dialog>\r\n      <el-dialog title=\"会计科目\" width=\"30%\" :visible.sync=\"dialogSubjectVisible\">\r\n        <subject-selector @closeSubjectDialog=\"closeSubjectDialog\" ref=\"subjectSelector\"></subject-selector>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"closeSubjectDialog\">取消</el-button>\r\n              <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" icon=\"edit\">确认</el-button>\r\n            </span>\r\n      </el-dialog>\r\n      <el-dialog title=\"请选择\" width=\"30%\" :visible.sync=\"dialogAuxiliaryVisible\">\r\n        <auxiliary-selector @closeAuxiliaryDialog=\"closeAuxiliaryDialog\" ref=\"auxiliarySelector\"></auxiliary-selector>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"closeAuxiliaryDialog\">取消</el-button>\r\n              <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" icon=\"edit\">确认</el-button>\r\n            </span>\r\n      </el-dialog>-->\r\n\r\n    </div>\r\n</template>\r\n   \r\n<script>\r\nimport Vue from 'vue';\r\nimport {\r\n    addObj,\r\n    getObj,\r\n    putObj,\r\n    getWordList,\r\n    getMainList,\r\n    getSubjectList\r\n} from '@/api';\r\n\r\nVue.directive('focus', {\r\n    // 当绑定元素插入到 DOM 中。\r\n    inserted: function (el) {\r\n        // 聚焦元素\r\n        el.focus();\r\n    }\r\n});\r\n\r\nexport default {\r\n    name: \"voucherForm\",\r\n    props: ['id'],\r\n    // components: {\r\n    //   'main-selector': () => import('./components/mainSelector'),\r\n    //   'subject-selector': () => import('./components/subjectSelector'),\r\n    //   'auxiliary-selector': () => import('./components/auxiliarySelector'),\r\n    // },\r\n    data() {\r\n        return {\r\n            voucher: {\r\n                word: '记', no: 1, date: new Date(), bill: 0\r\n            },\r\n            list: [\r\n                {\r\n                    main: '',\r\n                    isShowMainInput: false,\r\n                    subject: {\r\n                        number: '',\r\n                        name: '',\r\n                        detailJson: ''\r\n                    },\r\n                    isShowSubjectInput: false,\r\n                    debtor: '',\r\n                    debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowDebtorInput: false,\r\n                    lender: '',\r\n                    lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowLenderInput: false,\r\n                    isAuxiliary: false,\r\n                    auxiliary: ''\r\n                },\r\n                {\r\n                    main: '',\r\n                    isShowMainInput: false,\r\n                    subject: {\r\n                        number: '',\r\n                        name: '',\r\n                        detailJson: ''\r\n                    },\r\n                    isShowSubjectInput: false,\r\n                    debtor: '',\r\n                    debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowDebtorInput: false,\r\n                    lender: '',\r\n                    lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowLenderInput: false,\r\n                    isAuxiliary: false,\r\n                    auxiliary: ''\r\n                },\r\n                {\r\n                    main: '',\r\n                    isShowMainInput: false,\r\n                    subject: {\r\n                        number: '',\r\n                        name: '',\r\n                        detailJson: ''\r\n                    },\r\n                    isShowSubjectInput: false,\r\n                    debtor: '',\r\n                    debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowDebtorInput: false,\r\n                    lender: '',\r\n                    lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowLenderInput: false,\r\n                    isAuxiliary: false,\r\n                    auxiliary: ''\r\n                },\r\n                {\r\n                    main: '',\r\n                    isShowMainInput: false,\r\n                    subject: {\r\n                        number: '',\r\n                        name: '',\r\n                        detailJson: ''\r\n                    },\r\n                    isShowSubjectInput: false,\r\n                    debtor: '',\r\n                    debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowDebtorInput: false,\r\n                    lender: '',\r\n                    lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                    isShowLenderInput: false,\r\n                    isAuxiliary: false,\r\n                    auxiliary: ''\r\n                }\r\n            ],\r\n            debtorTotal: 0,\r\n            debtorTotalList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n            lenderTotal: 0,\r\n            lenderTotalList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n            wordList: [],\r\n            mainList: [],\r\n            subjectList: [],\r\n            dialogMainVisible: false,\r\n            dialogSubjectVisible: false,\r\n            dialogAuxiliaryVisible: false,\r\n            dialogMainIndex: 0,\r\n            dialogSubjectIndex: 0,\r\n            dialogAuxiliaryIndex: 0,\r\n            isAuxiliary: false,\r\n            saveVisible: true,\r\n            billNo: '',\r\n        }\r\n    },\r\n    mounted() {\r\n        document.addEventListener('keydown', this.handleEvent);\r\n        getWordList().then(response => {\r\n            this.wordList = response.data.records;\r\n        });\r\n        getMainList().then(response => {\r\n            this.mainList = response.data.records;\r\n        });\r\n        getSubjectList().then(response => {\r\n            this.subjectList = response.data.records;\r\n        });\r\n\r\n        this.init();\r\n    },\r\n    updated() {\r\n        //给特定区域添加ID   绑定onmousedown 事件\r\n        var chargeContainer = document.getElementById('chargeContainer');\r\n        var outDiv = chargeContainer.getElementsByClassName('special-elements');\r\n        for (var i = 0; i < outDiv.length; i++) {\r\n            outDiv[i].onmousedown = function (e) {\r\n                //现代浏览器阻止默认事件\r\n                if (e && e.preventDefault)\r\n                    e.preventDefault();\r\n                //IE阻止默认事件\r\n                else\r\n                    window.event.returnValue = false;\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        judgeIsAuxiliary() {\r\n            var flag = false;\r\n            for (var i in this.list) {\r\n                var detailJson = this.list[i].subject.detailJson;\r\n                if (detailJson !== '' && detailJson !== undefined) {\r\n                    flag = true;\r\n                    this.list[i].isAuxiliary = true;\r\n                } else {\r\n                    this.list[i].isAuxiliary = false;\r\n                    this.list[i].auxiliary = '';\r\n                }\r\n            }\r\n            this.isAuxiliary = flag;\r\n        },\r\n        openMainDialog() {\r\n            this.dialogMainVisible = true\r\n        },\r\n        closeMainDialog(main) {\r\n            if (!main.isTrusted) {\r\n                this.list[this.dialogMainIndex].main = main;\r\n            }\r\n            this.dialogMainVisible = false\r\n        },\r\n        openSubjectDialog() {\r\n            this.dialogSubjectVisible = true\r\n        },\r\n        closeSubjectDialog(sub) {\r\n            if (!sub.isTrusted) {\r\n                this.list[this.dialogSubjectIndex].subject = sub;\r\n            }\r\n            this.dialogSubjectVisible = false;\r\n            this.judgeIsAuxiliary();\r\n        },\r\n        openAuxiliaryDialog() {\r\n            this.dialogAuxiliaryVisible = true\r\n        },\r\n        closeAuxiliaryDialog(aux) {\r\n            if (!aux.isTrusted) {\r\n                this.list[this.dialogAuxiliaryIndex].auxiliary = aux;\r\n            }\r\n            this.dialogAuxiliaryVisible = false;\r\n        },\r\n        clearAuxiliary(index, e) {\r\n            this.list[index].auxiliary = '';\r\n        },\r\n\r\n        handleEvent(event) {\r\n            //console.log(event);\r\n            if (window.location.hash == '#/general_ledger/voucher_entry') {\r\n                if (event.keyCode === 83 && event.ctrlKey) {\r\n                    //console.log('拦截到83+ctrl');\r\n                    this.preservation(2);\r\n                    event.preventDefault();\r\n                    event.returnValue = false;\r\n                    return false;\r\n                } else if (event.keyCode === 115) {\r\n                    //console.log('拦截到115');//F4\r\n                    this.addList();\r\n                    event.preventDefault();\r\n                    event.returnValue = false;\r\n                    return false;\r\n                } else if (event.keyCode === 121) {\r\n                    //console.log('拦截到121');//F10\r\n                    event.preventDefault();\r\n                    event.returnValue = false;\r\n                    return false;\r\n                } else if (event.keyCode === 122) {\r\n                    //console.log('拦截到122');//F11\r\n                    event.preventDefault();\r\n                    event.returnValue = false;\r\n                    return false;\r\n                }\r\n            } else {\r\n                //需要销毁事件 防止全局生效\r\n                //document.removeEventListener('keydown', this.handleEvent);\r\n            }\r\n\r\n        },\r\n        showInput(index, type) {\r\n            for (var i in this.list) {\r\n                this.list[i].isShowDebtorInput = false;\r\n                this.list[i].isShowLenderInput = false;\r\n                this.list[i].isShowMainInput = false;\r\n                this.list[i].isShowSubjectInput = false;\r\n\r\n                if (i == index && type == 'debtor') {\r\n                    this.list[index].isShowDebtorInput = true;\r\n                } else if (i == index && type == 'lender') {\r\n                    this.list[index].isShowLenderInput = true;\r\n                } else if (i == index && type == 'main') {\r\n                    this.list[index].isShowMainInput = true;\r\n                } else if (i == index && type == 'subject') {\r\n                    this.list[index].isShowSubjectInput = true;\r\n                }\r\n            }\r\n        },\r\n        hideInput(index, type) {\r\n            if (type == 'debtor') {\r\n                //判断是否有小数点\r\n                var inx = this.list[index].debtor.indexOf('.');\r\n                if (inx != -1 && this.list[index].debtor.length - 1 != inx) {\r\n                    this.list[index].debtor = (this.list[index].debtor * 1).toFixed(4);\r\n                }\r\n                this.list[index].isShowDebtorInput = false;\r\n            } else if (type == 'lender') {\r\n                //判断是否有小数点\r\n                var inx = this.list[index].lender.indexOf('.');\r\n                if (inx != -1 && this.list[index].lender.length - 1 != inx) {\r\n                    this.list[index].lender = (this.list[index].lender * 1).toFixed(4);\r\n                }\r\n                this.list[index].isShowLenderInput = false;\r\n            } else if (type == 'main') {\r\n                this.list[index].isShowMainInput = false;\r\n            } else if (type == 'subject') {\r\n                this.list[index].isShowSubjectInput = false;\r\n            }\r\n        },\r\n        voluationInput(index, type, val) {\r\n            if (type == 'main') {\r\n                this.list[index].main = val;\r\n                this.list[index].isShowMainInput = false;\r\n            } else if (type == 'subject') {\r\n                this.list[index].subject.number = val.number;\r\n                this.list[index].subject.name = val.name;\r\n                this.list[index].subject.detailJson = val.detailJson;\r\n                this.list[index].isShowSubjectInput = false;\r\n            }\r\n            this.judgeIsAuxiliary();\r\n        },\r\n        selectionList(index, type) {\r\n            //console.log('弹出选择列表');\r\n            if (type == 'main') {\r\n                this.dialogMainIndex = index;\r\n                this.openMainDialog();\r\n            } else if (type == 'subject') {\r\n                this.dialogSubjectIndex = index;\r\n                this.openSubjectDialog();\r\n            } else if (type == 'auxiliary') {\r\n                this.dialogAuxiliaryIndex = index;\r\n                this.openAuxiliaryDialog();\r\n            }\r\n        },\r\n\r\n        keyupEvents(index, e, remaind) {\r\n            if (e.keyCode == 37) {\r\n                //console.log('拦截到37');//左\r\n                this.keyboardEvents('left', index * 4 + remaind);\r\n                return;\r\n            } else if (e.keyCode == 38) {\r\n                //console.log('拦截到38');//上\r\n                this.keyboardEvents('up', index * 4 + remaind);\r\n                return;\r\n            } else if (e.keyCode == 39) {\r\n                //console.log('拦截到39');//右\r\n                this.keyboardEvents('right', index * 4 + remaind);\r\n                return;\r\n            } else if (e.keyCode == 40) {\r\n                //console.log('拦截到40');//下\r\n                this.keyboardEvents('down', index * 4 + remaind);\r\n                return;\r\n            } else if (e.keyCode == 13) {\r\n                //console.log('拦截到13');//enter键\r\n                this.keyboardEvents('enter', index * 4 + remaind);\r\n                return;\r\n            } else if (e.keyCode == 118) {\r\n                //console.log('拦截到118');//F7\r\n                if (remaind == 1) {\r\n                    this.selectionList(index, 'main');\r\n                } else if (remaind == 2) {\r\n                    this.selectionList(index, 'subject');\r\n                }\r\n                return;\r\n            }\r\n\r\n            var main = this.list[index].main;\r\n            var subject = this.list[index].subject.name;\r\n            if (index - 1 >= 0) {\r\n                if (main.indexOf('//') != -1 || subject.indexOf('//') != -1) {\r\n                    this.list[index].main = this.list[index - 1].main;\r\n                    this.list[index].subject = this.list[index - 1].subject;\r\n                    this.list[index].debtor = this.list[index - 1].debtor;\r\n                    this.list[index].debtorList = this.list[index - 1].debtorList;\r\n                    this.list[index].lender = this.list[index - 1].lender;\r\n                    this.list[index].lenderList = this.list[index - 1].lenderList;\r\n                    this.list[index].auxiliary = this.list[index - 1].auxiliary;\r\n                    this.calcDebtorTotal();\r\n                    this.calcLenderTotal();\r\n                }\r\n                if (main.indexOf('..') != -1) {\r\n                    this.list[index].main = this.list[index - 1].main;\r\n                }\r\n            }\r\n            //判断是否显示辅助核算\r\n            this.judgeIsAuxiliary();\r\n        },\r\n        keyboardEvents(type, number) {\r\n            var total = this.list.length * 4;\r\n            if (type == 'enter') {\r\n                number++;\r\n            } else if (type == 'left' && number - 1 > 0) {\r\n                number--;\r\n            } else if (type == 'right' && number + 1 <= total) {\r\n                number++;\r\n            } else if (type == 'up' && number - 4 > 0) {\r\n                number = number - 4;\r\n            } else if (type == 'down' && number + 4 <= total) {\r\n                number = number + 4;\r\n            }\r\n            if (type == 'enter' && number > total) {\r\n                this.addList();\r\n            }\r\n            var index = parseInt(number / 4);\r\n            var remaind = number % 4;\r\n            if (remaind == 1) {\r\n                this.showInput(index, 'main');\r\n            } else if (remaind == 2) {\r\n                this.showInput(index, 'subject');\r\n            } else if (remaind == 3) {\r\n                this.showInput(index, 'debtor');\r\n            } else if (remaind == 0) {\r\n                this.showInput(index - 1, 'lender');\r\n            }\r\n        },\r\n        debtorInputKeyUp(index, e, remaind) {\r\n            //console.log(e);\r\n            //this.list[index].debtor=this.list[index].debtor.replace(/\\D/g,'');\r\n            if (e.keyCode === 187) {\r\n                this.calcDebtorTotal(index);\r\n                this.calcLenderTotal(index);\r\n                var cha = this.lenderTotal - this.debtorTotal;\r\n\r\n                if (cha == 0) {\r\n                    cha = '';\r\n                }\r\n                this.list[index].debtor = cha + '';\r\n            } else if (e.keyCode === 32) {\r\n                this.list[index].isShowLenderInput = true;\r\n                this.list[index].isShowDebtorInput = false;\r\n                this.list[index].lender = this.list[index].debtor.trim();\r\n                this.list[index].debtor = '';\r\n                this.list[index].debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                var lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                this.list[index].lenderList = this.collatingData(this.list[index].lender, lenderList);\r\n                this.calcDebtorTotal();\r\n                this.calcLenderTotal();\r\n                return;\r\n            } else if ((e.keyCode >= 37 && e.keyCode <= 40) || e.keyCode == 13) {\r\n                this.keyupEvents(index, e, remaind);\r\n                return;\r\n            }\r\n            this.list[index].lender = '';\r\n            this.list[index].lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            var debtor = this.list[index].debtor;\r\n            var debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            this.list[index].debtorList = this.collatingData(debtor, debtorList);\r\n            this.calcDebtorTotal();\r\n            this.calcLenderTotal();\r\n        },\r\n        calcDebtorTotal(index) {\r\n            var debtorTotal = 0;\r\n            for (var i in this.list) {\r\n                if (this.list[i].debtor != null && this.list[i].debtor != '') {\r\n                    if (!(index && index == i)) {\r\n                        debtorTotal += (this.list[i].debtor) * 1;\r\n                    }\r\n                }\r\n            }\r\n            this.debtorTotal = debtorTotal;\r\n            debtorTotal = debtorTotal + '';\r\n            var debtorTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            this.debtorTotalList = this.collatingData(debtorTotal, debtorTotalList);\r\n        },\r\n        lenderInputKeyUp(index, e, remaind) {\r\n            //this.list[index].lender=this.list[index].lender.replace(/\\D/g,'');\r\n            if (e.keyCode === 187) {\r\n                this.calcDebtorTotal(index);\r\n                this.calcLenderTotal(index);\r\n                var cha = this.debtorTotal - this.lenderTotal;\r\n                if (cha == 0) {\r\n                    cha = '';\r\n                }\r\n                this.list[index].lender = cha + '';\r\n            } else if (e.keyCode === 32) {\r\n                this.list[index].isShowDebtorInput = true;\r\n                this.list[index].isShowLenderInput = false;\r\n                this.list[index].debtor = this.list[index].lender.trim();\r\n                this.list[index].lender = '';\r\n                this.list[index].lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                var debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                this.list[index].debtorList = this.collatingData(this.list[index].debtor, debtorList);\r\n                this.calcLenderTotal();\r\n                this.calcDebtorTotal();\r\n                return;\r\n            } else if ((e.keyCode >= 37 && e.keyCode <= 40) || e.keyCode == 13) {\r\n                this.keyupEvents(index, e, remaind);\r\n                return;\r\n            }\r\n            this.list[index].debtor = '';\r\n            this.list[index].debtorList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            var lender = this.list[index].lender;\r\n            var lenderList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            this.list[index].lenderList = this.collatingData(lender, lenderList);\r\n            this.calcLenderTotal();\r\n            this.calcDebtorTotal();\r\n        },\r\n        calcLenderTotal(index) {\r\n            var lenderTotal = 0;\r\n            for (var i in this.list) {\r\n                if (this.list[i].lender != null && this.list[i].lender != '') {\r\n                    if (!(index && index == i)) {\r\n                        lenderTotal += (this.list[i].lender) * 1;\r\n                    }\r\n                }\r\n            }\r\n            this.lenderTotal = lenderTotal;\r\n            lenderTotal = lenderTotal + '';\r\n            var lenderTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n            this.lenderTotalList = this.collatingData(lenderTotal, lenderTotalList);\r\n        },\r\n        addList() {\r\n            var obj = {\r\n                main: '',\r\n                isShowMainInput: false,\r\n                subject: {\r\n                    number: '',\r\n                    name: '',\r\n                    detailJson: ''\r\n                },\r\n                isShowSubjectInput: false,\r\n                debtor: '',\r\n                debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                isShowDebtorInput: false,\r\n                lender: '',\r\n                lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                isShowLenderInput: false,\r\n                isAuxiliary: false,\r\n                auxiliary: ''\r\n            };\r\n            this.list.push(obj);\r\n        },\r\n        removeList(index) {\r\n            if (this.list.length <= 2) {\r\n                this.$message.error('至少保存两行');\r\n                return;\r\n            }\r\n            this.list.splice(index, 1);\r\n            this.calcDebtorTotal();\r\n            this.calcLenderTotal();\r\n        },\r\n\r\n        collatingData(debtor, debtorList) {\r\n            debtor = debtor.replace(/-/g, '');\r\n            //判断是否有小数点\r\n            if (debtor.indexOf('.') != -1) {\r\n                debtor = (debtor * 1).toFixed(4);\r\n                debtor = (debtor + '').replace(/\\./g, '');\r\n            } else {\r\n                debtor = debtor + '00';\r\n            }\r\n            if (debtor.length <= 11) {\r\n                var cha = debtorList.length - debtor.length;\r\n                for (var i = 0; i < debtor.length; i++) {\r\n                    debtorList[i + cha] = debtor.charAt(i);\r\n                }\r\n            } else {\r\n                for (var i = 0; i < debtor.length; i++) {\r\n                    debtorList[i] = debtor.charAt(i);\r\n                }\r\n            }\r\n            return debtorList;\r\n        },\r\n        checkListData() {\r\n            if ((this.debtorTotal != 0 || this.lenderTotal != 0) && this.lenderTotal * 1 != this.debtorTotal * 1) {\r\n                this.$message.error('凭证借贷不平衡，请检查');\r\n                return;\r\n            }\r\n            var mainFlag = true;\r\n            for (var i in this.list) {\r\n                if (this.list[i].main != null && this.list[i].main != '') {\r\n                    mainFlag = false;\r\n                }\r\n                if (this.list[i].subject.name == null || this.list[i].subject.name == '') {\r\n                    this.$message.error('第' + (i * 1 + 1) + '行中的会计科目为必填项，请填写了再提交');\r\n                    return;\r\n                }\r\n                if ((this.list[i].debtor == null || this.list[i].debtor == '') && (this.list[i].lender == null || this.list[i].lender == '')) {\r\n                    this.$message.error('第' + (i * 1 + 1) + '行中借方金额、贷方金额必须填一个，请填写了再提交');\r\n                    return;\r\n                }\r\n            }\r\n            if (mainFlag) {\r\n                this.$message.error('必须填写一个摘要，请填写了再提交');\r\n                return;\r\n            }\r\n\r\n            var list = [];\r\n            for (var a = 0; a < this.list.length; a++) {\r\n                var obj = {\r\n                    explanation: this.list[a].main,\r\n                    accountNumber: this.list[a].subject.number,\r\n                    accountName: this.list[a].subject.name,\r\n                    auxiliaryType: this.list[a].subject.detailJson,\r\n                    itemObjectKeys: this.list[a].auxiliary,\r\n                    basicDebitAmount: this.list[a].debtor,\r\n                    basicCreditAmount: this.list[a].lender\r\n                };\r\n                list.push(obj);\r\n            }\r\n            var reqObj = {\r\n                id: this.id,\r\n                billNo: this.billNo,\r\n                billStatus: 2,\r\n                voucherType: this.voucher.word,\r\n                voucherNumber: this.voucher.no,\r\n                year: this.formatDate(\"yyyy-MM-dd hh:mm:ss\", this.voucher.date),\r\n                creditTotal: this.lenderTotal,\r\n                debitTotal: this.debtorTotal,\r\n                attachments: this.voucher.bill,\r\n                list: list\r\n            };\r\n\r\n            return reqObj;\r\n        },\r\n        formatDate(fmt, date) {\r\n            if (typeof date === 'string') {\r\n                date = new Date(date);\r\n            }\r\n\r\n            var o = {\r\n                \"M+\": date.getMonth() + 1,                 //月份\r\n                \"d+\": date.getDate(),                    //日\r\n                \"h+\": date.getHours(),                   //小时\r\n                \"m+\": date.getMinutes(),                 //分\r\n                \"s+\": date.getSeconds(),                 //秒\r\n                \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度\r\n                \"S\": date.getMilliseconds()             //毫秒\r\n            };\r\n            if (/(y+)/.test(fmt))\r\n                fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n            for (var k in o)\r\n                if (new RegExp(\"(\" + k + \")\").test(fmt))\r\n                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n            return fmt;\r\n        },\r\n        preservation(status) {\r\n            var reqObj = this.checkListData();\r\n            //console.log(reqObj);\r\n\r\n            if (reqObj) {\r\n                addObj(reqObj).then(response => {\r\n                    if (response.code == '2000') {\r\n\r\n                        this.$notify({\r\n                            title: '成功',\r\n                            message: '创建成功',\r\n                            type: 'success',\r\n                            duration: 2000\r\n                        });\r\n                        this.init();\r\n                    } else {\r\n                        this.$notify({\r\n                            title: '失败',\r\n                            message: response.msg,\r\n                            type: 'warning',\r\n                            duration: 2000\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        onSubmit() {\r\n            var reqObj = this.checkListData();\r\n            //console.log(reqObj);\r\n\r\n            if (reqObj) {\r\n                putObj(this.id, reqObj).then(response => {\r\n                    if (response.code == '2000') {\r\n\r\n                        this.$notify({\r\n                            title: '成功',\r\n                            message: '修改成功',\r\n                            type: 'success',\r\n                            duration: 2000\r\n                        });\r\n\r\n                        this.$emit('submitSuccess', response);\r\n\r\n                    } else {\r\n                        this.$notify({\r\n                            title: '失败',\r\n                            message: response.msg,\r\n                            type: 'warning',\r\n                            duration: 2000\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        init() {\r\n            if (this.id !== '' && this.id !== undefined) {\r\n                getObj(this.id)\r\n                    .then(response => {\r\n                        const data = response.data;\r\n                        this.voucher = { word: data.voucherType, no: data.voucherNumber, date: data.year, bill: data.attachments };\r\n                        this.list = [];\r\n                        var isAuxiliary = false;\r\n                        for (var i = 0; i < data.list.length; i++) {\r\n                            var debtor = data.list[i].basicDebitAmount == 0 ? '' : data.list[i].basicDebitAmount + '';\r\n                            var debtorList = debtor == '' ? ['', '', '', '', '', '', '', '', 0, 0, 0] : this.collatingData(debtor, ['', '', '', '', '', '', '', '', 0, 0, 0]);\r\n                            var lender = data.list[i].basicCreditAmount == 0 ? '' : data.list[i].basicCreditAmount + '';\r\n                            var lenderList = lender == '' ? ['', '', '', '', '', '', '', '', 0, 0, 0] : this.collatingData(lender, ['', '', '', '', '', '', '', '', 0, 0, 0]);\r\n                            if (data.list[i].itemObjectKeys != null && data.list[i].itemObjectKeys != '') {\r\n                                isAuxiliary = true;\r\n                            }\r\n                            var obj = {\r\n                                main: data.list[i].explanation,\r\n                                isShowMainInput: false,\r\n                                subject: {\r\n                                    number: data.list[i].accountNumber,\r\n                                    name: data.list[i].accountName,\r\n                                    detailJson: data.list[i].auxiliaryType\r\n                                },\r\n                                isShowSubjectInput: false,\r\n                                debtor: debtor,\r\n                                debtorList: debtorList,\r\n                                isShowDebtorInput: false,\r\n                                lender: lender,\r\n                                lenderList: lenderList,\r\n                                isShowLenderInput: false,\r\n                                isAuxiliary: data.list[i].itemObjectKeys == '' ? false : true,\r\n                                auxiliary: data.list[i].itemObjectKeys\r\n                            };\r\n                            this.list.push(obj);\r\n                        }\r\n                        this.debtorTotal = data.debitTotal + '';\r\n                        this.debtorTotalList = this.collatingData(this.debtorTotal, ['', '', '', '', '', '', '', '', 0, 0, 0]);\r\n                        this.lenderTotal = data.creditTotal + '';\r\n                        this.lenderTotalList = this.collatingData(this.lenderTotal, ['', '', '', '', '', '', '', '', 0, 0, 0]);\r\n                        this.dialogMainVisible = false;\r\n                        this.dialogSubjectVisible = false;\r\n                        this.dialogAuxiliaryVisible = false;\r\n                        this.saveVisible = false;\r\n                        this.dialogMainIndex = 0;\r\n                        this.dialogSubjectIndex = 0;\r\n                        this.dialogAuxiliaryIndex = 0;\r\n                        this.isAuxiliary = isAuxiliary;\r\n                        this.billNo = data.billNo;\r\n                    });\r\n            } else {\r\n                this.voucher = { word: '记', no: 1, date: new Date(), bill: 0 };\r\n                this.list = [\r\n                    {\r\n                        main: '',\r\n                        isShowMainInput: false,\r\n                        subject: {\r\n                            number: '',\r\n                            name: '',\r\n                            detailJson: ''\r\n                        },\r\n                        isShowSubjectInput: false,\r\n                        debtor: '',\r\n                        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowDebtorInput: false,\r\n                        lender: '',\r\n                        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowLenderInput: false,\r\n                        isAuxiliary: false,\r\n                        auxiliary: ''\r\n                    },\r\n                    {\r\n                        main: '',\r\n                        isShowMainInput: false,\r\n                        subject: {\r\n                            number: '',\r\n                            name: '',\r\n                            detailJson: ''\r\n                        },\r\n                        isShowSubjectInput: false,\r\n                        debtor: '',\r\n                        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowDebtorInput: false,\r\n                        lender: '',\r\n                        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowLenderInput: false,\r\n                        isAuxiliary: false,\r\n                        auxiliary: ''\r\n                    },\r\n                    {\r\n                        main: '',\r\n                        isShowMainInput: false,\r\n                        subject: {\r\n                            number: '',\r\n                            name: '',\r\n                            detailJson: ''\r\n                        },\r\n                        isShowSubjectInput: false,\r\n                        debtor: '',\r\n                        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowDebtorInput: false,\r\n                        lender: '',\r\n                        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowLenderInput: false,\r\n                        isAuxiliary: false,\r\n                        auxiliary: ''\r\n                    },\r\n                    {\r\n                        main: '',\r\n                        isShowMainInput: false,\r\n                        subject: {\r\n                            number: '',\r\n                            name: '',\r\n                            detailJson: ''\r\n                        },\r\n                        isShowSubjectInput: false,\r\n                        debtor: '',\r\n                        debtorList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowDebtorInput: false,\r\n                        lender: '',\r\n                        lenderList: ['', '', '', '', '', '', '', '', 0, 0, 0],\r\n                        isShowLenderInput: false,\r\n                        isAuxiliary: false,\r\n                        auxiliary: ''\r\n                    }\r\n                ];\r\n                this.debtorTotal = 0;\r\n                this.debtorTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                this.lenderTotal = 0;\r\n                this.lenderTotalList = ['', '', '', '', '', '', '', '', 0, 0, 0];\r\n                this.dialogMainVisible = false;\r\n                this.dialogSubjectVisible = false;\r\n                this.dialogAuxiliaryVisible = false;\r\n                this.dialogMainIndex = 0;\r\n                this.dialogSubjectIndex = 0;\r\n                this.dialogAuxiliaryIndex = 0;\r\n                this.isAuxiliary = false;\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n   \r\n<style scoped>\r\ntable {\r\n    width: 100%;\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\ntable td {\r\n    text-align: center;\r\n    table-layout: fixed;\r\n    padding: 0px;\r\n    position: relative;\r\n}\r\n\r\n.main-subject {\r\n    position: relative;\r\n    height: 60px;\r\n    line-height: 30px;\r\n    text-align: left;\r\n}\r\n\r\n.charge-container {\r\n    padding: 10px;\r\n    font-size: 14px;\r\n    color: #444;\r\n    font-weight: 400;\r\n    background-color: white;\r\n}\r\n\r\n.charge {\r\n    width: 1124px;\r\n    margin: auto;\r\n}\r\n\r\n.charge-header {\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.charge-header>div {\r\n    display: inline-block;\r\n    margin-right: 15px;\r\n}\r\n\r\n.tip-box {\r\n    width: 330px;\r\n    padding: 10px;\r\n    position: absolute;\r\n    top: 27px;\r\n    right: -15px;\r\n    z-index: 1005;\r\n    background-color: #fff;\r\n    box-shadow: 0 0 6px rgba(170, 170, 170, .73);\r\n    display: none;\r\n}\r\n\r\n.tip-box-table tr {\r\n    height: 25px;\r\n}\r\n\r\n.el-icon-info {\r\n    font-size: 18px;\r\n    margin-left: 30px;\r\n    cursor: pointer;\r\n}\r\n\r\n.el-icon-info:hover+.tip-box {\r\n    display: inline-block;\r\n}\r\n\r\n.el-icon-more {\r\n    position: absolute;\r\n    top: 22px;\r\n    right: 10px;\r\n    z-index: 2;\r\n    color: #666;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n}\r\n\r\n.dropdown-menu {\r\n    position: absolute;\r\n    top: 100%;\r\n    left: 0px;\r\n    float: left;\r\n    padding: 5px 0;\r\n    margin: 2px 0 0;\r\n    text-align: left;\r\n    list-style: none;\r\n    background-color: #fff;\r\n    background-clip: padding-box;\r\n}\r\n\r\n.suggest-list {\r\n    width: 100%;\r\n    height: auto;\r\n    z-index: 1015;\r\n    min-width: inherit;\r\n    display: block;\r\n    overflow: hidden;\r\n    border: none;\r\n    box-shadow: 0 1px 6px rgba(0, 0, 0, .2);\r\n}\r\n\r\n.suggest-list .item-list {\r\n    max-height: 375px;\r\n    overflow: auto;\r\n    list-style: none;\r\n    margin: 0px;\r\n    padding: 0px;\r\n}\r\n\r\n.item-list li {\r\n    display: flex;\r\n    padding: 0 10px;\r\n    height: 28px;\r\n    line-height: 28px;\r\n    cursor: pointer;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.item-list li:hover {\r\n    background: #ecebeb;\r\n}\r\n\r\n.item-list li.hover {\r\n    background: #ecebeb;\r\n}\r\n\r\n.charge-table,\r\n.tip-box-table {\r\n    border: 1px solid #bab9b9;\r\n}\r\n\r\n.charge-table,\r\n.debtor-tbale,\r\n.lender-tbale>tr {\r\n    height: 60px;\r\n}\r\n\r\n.charge-table>tr:first-child {\r\n    height: 50px;\r\n}\r\n\r\n.td-auxiliary-dis {\r\n    background-color: #f7f7f7;\r\n}\r\n\r\n.auxiliary-accounting {\r\n    height: 60px;\r\n    overflow: auto;\r\n    padding: 15px 0 0 30px;\r\n}\r\n\r\n.auxiliary-accounting:before {\r\n    content: \"+\";\r\n    font-size: 30px;\r\n    color: #4a90e2;\r\n    cursor: pointer;\r\n    padding: 0 11px;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    line-height: 60px;\r\n}\r\n\r\n.auxiliary-single {\r\n    display: flex;\r\n    float: left;\r\n    height: 28px;\r\n    line-height: 28px;\r\n    margin-right: 5px;\r\n    cursor: pointer;\r\n    background: #eee;\r\n    padding: 0 8px;\r\n    border-radius: 2px;\r\n}\r\n\r\n.auxiliary-single span {\r\n    max-width: 90px;\r\n    overflow: hidden;\r\n    height: 28px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n}\r\n\r\n.auxiliary-single i {\r\n    color: red;\r\n    margin: 8px 0 8px 7px;\r\n    font-size: 10px;\r\n    visibility: hidden;\r\n}\r\n\r\n.auxiliary-single:hover i {\r\n    visibility: inherit;\r\n}\r\n\r\n.charge-table-icon {\r\n    cursor: pointer;\r\n    display: inline-block;\r\n}\r\n\r\n.debtor-lender-table tr td {\r\n    width: 9%;\r\n    border-right: 1px solid #bab9b9;\r\n}\r\n\r\n.debtor-lender-table tr td:nth-child(3) {\r\n    border-right-color: rgba(74, 144, 226, .5);\r\n}\r\n\r\n.debtor-lender-table tr td:nth-child(6) {\r\n    border-right-color: rgba(74, 144, 226, .5);\r\n}\r\n\r\n.debtor-lender-table tr td:nth-child(9) {\r\n    border-right-color: rgba(226, 106, 74, .5);\r\n}\r\n\r\n.debtor-lender-table tr td:last-child {\r\n    border-right: none;\r\n}\r\n\r\n.tr-negative {\r\n    color: red;\r\n}\r\n\r\n.charge-table input,\r\nselect {\r\n    width: 100%;\r\n    height: 60px;\r\n}\r\n\r\n.charge-table textarea {\r\n    width: 100%;\r\n    height: 60px;\r\n    padding: 9px 14px 9px 10px;\r\n    overflow: auto;\r\n    resize: none;\r\n    border: none;\r\n    border-radius: 0px;\r\n    margin: 0;\r\n    color: #444;\r\n    box-sizing: border-box;\r\n}\r\n</style>"],"mappings":";AAkSA,OAAAA,GAAA;AACA,SACAC,MAAA,EACAC,MAAA,EACAC,MAAA,EACAC,WAAA,EACAC,WAAA,EACAC,cAAA,QACA;AAEAN,GAAA,CAAAO,SAAA;EACA;EACAC,QAAA,WAAAA,CAAAC,EAAA;IACA;IACAA,EAAA,CAAAC,KAAA;EACA;AACA;AAEA;EACAC,IAAA;EACAC,KAAA;EACA;EACA;EACA;EACA;EACA;EACAC,KAAA;IACA;MACAC,OAAA;QACAC,IAAA;QAAAC,EAAA;QAAAC,IAAA,MAAAC,IAAA;QAAAC,IAAA;MACA;MACAC,IAAA,GACA;QACAC,IAAA;QACAC,eAAA;QACAC,OAAA;UACAC,MAAA;UACAb,IAAA;UACAc,UAAA;QACA;QACAC,kBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAb,IAAA;QACAC,eAAA;QACAC,OAAA;UACAC,MAAA;UACAb,IAAA;UACAc,UAAA;QACA;QACAC,kBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAb,IAAA;QACAC,eAAA;QACAC,OAAA;UACAC,MAAA;UACAb,IAAA;UACAc,UAAA;QACA;QACAC,kBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,WAAA;QACAC,SAAA;MACA,GACA;QACAb,IAAA;QACAC,eAAA;QACAC,OAAA;UACAC,MAAA;UACAb,IAAA;UACAc,UAAA;QACA;QACAC,kBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,WAAA;QACAC,SAAA;MACA,EACA;MACAC,WAAA;MACAC,eAAA;MACAC,WAAA;MACAC,eAAA;MACAC,QAAA;MACAC,QAAA;MACAC,WAAA;MACAC,iBAAA;MACAC,oBAAA;MACAC,sBAAA;MACAC,eAAA;MACAC,kBAAA;MACAC,oBAAA;MACAd,WAAA;MACAe,WAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACAC,QAAA,CAAAC,gBAAA,iBAAAC,WAAA;IACAjD,WAAA,GAAAkD,IAAA,CAAAC,QAAA;MACA,KAAAhB,QAAA,GAAAgB,QAAA,CAAA1C,IAAA,CAAA2C,OAAA;IACA;IACAnD,WAAA,GAAAiD,IAAA,CAAAC,QAAA;MACA,KAAAf,QAAA,GAAAe,QAAA,CAAA1C,IAAA,CAAA2C,OAAA;IACA;IACAlD,cAAA,GAAAgD,IAAA,CAAAC,QAAA;MACA,KAAAd,WAAA,GAAAc,QAAA,CAAA1C,IAAA,CAAA2C,OAAA;IACA;IAEA,KAAAC,IAAA;EACA;EACAC,QAAA;IACA;IACA,IAAAC,eAAA,GAAAR,QAAA,CAAAS,cAAA;IACA,IAAAC,MAAA,GAAAF,eAAA,CAAAG,sBAAA;IACA,SAAAC,CAAA,MAAAA,CAAA,GAAAF,MAAA,CAAAG,MAAA,EAAAD,CAAA;MACAF,MAAA,CAAAE,CAAA,EAAAE,WAAA,aAAAC,CAAA;QACA;QACA,IAAAA,CAAA,IAAAA,CAAA,CAAAC,cAAA,EACAD,CAAA,CAAAC,cAAA;QACA;QAAA,KAEAC,MAAA,CAAAC,KAAA,CAAAC,WAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,iBAAA;MACA,IAAAC,IAAA;MACA,SAAAV,CAAA,SAAA3C,IAAA;QACA,IAAAK,UAAA,QAAAL,IAAA,CAAA2C,CAAA,EAAAxC,OAAA,CAAAE,UAAA;QACA,IAAAA,UAAA,WAAAA,UAAA,KAAAiD,SAAA;UACAD,IAAA;UACA,KAAArD,IAAA,CAAA2C,CAAA,EAAA9B,WAAA;QACA;UACA,KAAAb,IAAA,CAAA2C,CAAA,EAAA9B,WAAA;UACA,KAAAb,IAAA,CAAA2C,CAAA,EAAA7B,SAAA;QACA;MACA;MACA,KAAAD,WAAA,GAAAwC,IAAA;IACA;IACAE,eAAA;MACA,KAAAjC,iBAAA;IACA;IACAkC,gBAAAvD,IAAA;MACA,KAAAA,IAAA,CAAAwD,SAAA;QACA,KAAAzD,IAAA,MAAAyB,eAAA,EAAAxB,IAAA,GAAAA,IAAA;MACA;MACA,KAAAqB,iBAAA;IACA;IACAoC,kBAAA;MACA,KAAAnC,oBAAA;IACA;IACAoC,mBAAAC,GAAA;MACA,KAAAA,GAAA,CAAAH,SAAA;QACA,KAAAzD,IAAA,MAAA0B,kBAAA,EAAAvB,OAAA,GAAAyD,GAAA;MACA;MACA,KAAArC,oBAAA;MACA,KAAA6B,gBAAA;IACA;IACAS,oBAAA;MACA,KAAArC,sBAAA;IACA;IACAsC,qBAAAC,GAAA;MACA,KAAAA,GAAA,CAAAN,SAAA;QACA,KAAAzD,IAAA,MAAA2B,oBAAA,EAAAb,SAAA,GAAAiD,GAAA;MACA;MACA,KAAAvC,sBAAA;IACA;IACAwC,eAAAC,KAAA,EAAAnB,CAAA;MACA,KAAA9C,IAAA,CAAAiE,KAAA,EAAAnD,SAAA;IACA;IAEAmB,YAAAgB,KAAA;MACA;MACA,IAAAD,MAAA,CAAAkB,QAAA,CAAAC,IAAA;QACA,IAAAlB,KAAA,CAAAmB,OAAA,WAAAnB,KAAA,CAAAoB,OAAA;UACA;UACA,KAAAC,YAAA;UACArB,KAAA,CAAAF,cAAA;UACAE,KAAA,CAAAC,WAAA;UACA;QACA,WAAAD,KAAA,CAAAmB,OAAA;UACA;UACA,KAAAG,OAAA;UACAtB,KAAA,CAAAF,cAAA;UACAE,KAAA,CAAAC,WAAA;UACA;QACA,WAAAD,KAAA,CAAAmB,OAAA;UACA;UACAnB,KAAA,CAAAF,cAAA;UACAE,KAAA,CAAAC,WAAA;UACA;QACA,WAAAD,KAAA,CAAAmB,OAAA;UACA;UACAnB,KAAA,CAAAF,cAAA;UACAE,KAAA,CAAAC,WAAA;UACA;QACA;MACA;QACA;QACA;MAAA;IAGA;IACAsB,UAAAP,KAAA,EAAAQ,IAAA;MACA,SAAA9B,CAAA,SAAA3C,IAAA;QACA,KAAAA,IAAA,CAAA2C,CAAA,EAAAlC,iBAAA;QACA,KAAAT,IAAA,CAAA2C,CAAA,EAAA/B,iBAAA;QACA,KAAAZ,IAAA,CAAA2C,CAAA,EAAAzC,eAAA;QACA,KAAAF,IAAA,CAAA2C,CAAA,EAAArC,kBAAA;QAEA,IAAAqC,CAAA,IAAAsB,KAAA,IAAAQ,IAAA;UACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAAxD,iBAAA;QACA,WAAAkC,CAAA,IAAAsB,KAAA,IAAAQ,IAAA;UACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAArD,iBAAA;QACA,WAAA+B,CAAA,IAAAsB,KAAA,IAAAQ,IAAA;UACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAA/D,eAAA;QACA,WAAAyC,CAAA,IAAAsB,KAAA,IAAAQ,IAAA;UACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAA3D,kBAAA;QACA;MACA;IACA;IACAoE,UAAAT,KAAA,EAAAQ,IAAA;MACA,IAAAA,IAAA;QACA;QACA,IAAAE,GAAA,QAAA3E,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,CAAAqE,OAAA;QACA,IAAAD,GAAA,eAAA3E,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,CAAAqC,MAAA,QAAA+B,GAAA;UACA,KAAA3E,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,SAAAP,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,MAAAsE,OAAA;QACA;QACA,KAAA7E,IAAA,CAAAiE,KAAA,EAAAxD,iBAAA;MACA,WAAAgE,IAAA;QACA;QACA,IAAAE,GAAA,QAAA3E,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,CAAAkE,OAAA;QACA,IAAAD,GAAA,eAAA3E,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,CAAAkC,MAAA,QAAA+B,GAAA;UACA,KAAA3E,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,SAAAV,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,MAAAmE,OAAA;QACA;QACA,KAAA7E,IAAA,CAAAiE,KAAA,EAAArD,iBAAA;MACA,WAAA6D,IAAA;QACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAA/D,eAAA;MACA,WAAAuE,IAAA;QACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAA3D,kBAAA;MACA;IACA;IACAwE,eAAAb,KAAA,EAAAQ,IAAA,EAAAM,GAAA;MACA,IAAAN,IAAA;QACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAAhE,IAAA,GAAA8E,GAAA;QACA,KAAA/E,IAAA,CAAAiE,KAAA,EAAA/D,eAAA;MACA,WAAAuE,IAAA;QACA,KAAAzE,IAAA,CAAAiE,KAAA,EAAA9D,OAAA,CAAAC,MAAA,GAAA2E,GAAA,CAAA3E,MAAA;QACA,KAAAJ,IAAA,CAAAiE,KAAA,EAAA9D,OAAA,CAAAZ,IAAA,GAAAwF,GAAA,CAAAxF,IAAA;QACA,KAAAS,IAAA,CAAAiE,KAAA,EAAA9D,OAAA,CAAAE,UAAA,GAAA0E,GAAA,CAAA1E,UAAA;QACA,KAAAL,IAAA,CAAAiE,KAAA,EAAA3D,kBAAA;MACA;MACA,KAAA8C,gBAAA;IACA;IACA4B,cAAAf,KAAA,EAAAQ,IAAA;MACA;MACA,IAAAA,IAAA;QACA,KAAAhD,eAAA,GAAAwC,KAAA;QACA,KAAAV,cAAA;MACA,WAAAkB,IAAA;QACA,KAAA/C,kBAAA,GAAAuC,KAAA;QACA,KAAAP,iBAAA;MACA,WAAAe,IAAA;QACA,KAAA9C,oBAAA,GAAAsC,KAAA;QACA,KAAAJ,mBAAA;MACA;IACA;IAEAoB,YAAAhB,KAAA,EAAAnB,CAAA,EAAAoC,OAAA;MACA,IAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,KAAAe,cAAA,SAAAlB,KAAA,OAAAiB,OAAA;QACA;MACA,WAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,KAAAe,cAAA,OAAAlB,KAAA,OAAAiB,OAAA;QACA;MACA,WAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,KAAAe,cAAA,UAAAlB,KAAA,OAAAiB,OAAA;QACA;MACA,WAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,KAAAe,cAAA,SAAAlB,KAAA,OAAAiB,OAAA;QACA;MACA,WAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,KAAAe,cAAA,UAAAlB,KAAA,OAAAiB,OAAA;QACA;MACA,WAAApC,CAAA,CAAAsB,OAAA;QACA;QACA,IAAAc,OAAA;UACA,KAAAF,aAAA,CAAAf,KAAA;QACA,WAAAiB,OAAA;UACA,KAAAF,aAAA,CAAAf,KAAA;QACA;QACA;MACA;MAEA,IAAAhE,IAAA,QAAAD,IAAA,CAAAiE,KAAA,EAAAhE,IAAA;MACA,IAAAE,OAAA,QAAAH,IAAA,CAAAiE,KAAA,EAAA9D,OAAA,CAAAZ,IAAA;MACA,IAAA0E,KAAA;QACA,IAAAhE,IAAA,CAAA2E,OAAA,gBAAAzE,OAAA,CAAAyE,OAAA;UACA,KAAA5E,IAAA,CAAAiE,KAAA,EAAAhE,IAAA,QAAAD,IAAA,CAAAiE,KAAA,MAAAhE,IAAA;UACA,KAAAD,IAAA,CAAAiE,KAAA,EAAA9D,OAAA,QAAAH,IAAA,CAAAiE,KAAA,MAAA9D,OAAA;UACA,KAAAH,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,QAAAP,IAAA,CAAAiE,KAAA,MAAA1D,MAAA;UACA,KAAAP,IAAA,CAAAiE,KAAA,EAAAzD,UAAA,QAAAR,IAAA,CAAAiE,KAAA,MAAAzD,UAAA;UACA,KAAAR,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,QAAAV,IAAA,CAAAiE,KAAA,MAAAvD,MAAA;UACA,KAAAV,IAAA,CAAAiE,KAAA,EAAAtD,UAAA,QAAAX,IAAA,CAAAiE,KAAA,MAAAtD,UAAA;UACA,KAAAX,IAAA,CAAAiE,KAAA,EAAAnD,SAAA,QAAAd,IAAA,CAAAiE,KAAA,MAAAnD,SAAA;UACA,KAAAsE,eAAA;UACA,KAAAC,eAAA;QACA;QACA,IAAApF,IAAA,CAAA2E,OAAA;UACA,KAAA5E,IAAA,CAAAiE,KAAA,EAAAhE,IAAA,QAAAD,IAAA,CAAAiE,KAAA,MAAAhE,IAAA;QACA;MACA;MACA;MACA,KAAAmD,gBAAA;IACA;IACA+B,eAAAV,IAAA,EAAArE,MAAA;MACA,IAAAkF,KAAA,QAAAtF,IAAA,CAAA4C,MAAA;MACA,IAAA6B,IAAA;QACArE,MAAA;MACA,WAAAqE,IAAA,cAAArE,MAAA;QACAA,MAAA;MACA,WAAAqE,IAAA,eAAArE,MAAA,QAAAkF,KAAA;QACAlF,MAAA;MACA,WAAAqE,IAAA,YAAArE,MAAA;QACAA,MAAA,GAAAA,MAAA;MACA,WAAAqE,IAAA,cAAArE,MAAA,QAAAkF,KAAA;QACAlF,MAAA,GAAAA,MAAA;MACA;MACA,IAAAqE,IAAA,eAAArE,MAAA,GAAAkF,KAAA;QACA,KAAAf,OAAA;MACA;MACA,IAAAN,KAAA,GAAAsB,QAAA,CAAAnF,MAAA;MACA,IAAA8E,OAAA,GAAA9E,MAAA;MACA,IAAA8E,OAAA;QACA,KAAAV,SAAA,CAAAP,KAAA;MACA,WAAAiB,OAAA;QACA,KAAAV,SAAA,CAAAP,KAAA;MACA,WAAAiB,OAAA;QACA,KAAAV,SAAA,CAAAP,KAAA;MACA,WAAAiB,OAAA;QACA,KAAAV,SAAA,CAAAP,KAAA;MACA;IACA;IACAuB,iBAAAvB,KAAA,EAAAnB,CAAA,EAAAoC,OAAA;MACA;MACA;MACA,IAAApC,CAAA,CAAAsB,OAAA;QACA,KAAAgB,eAAA,CAAAnB,KAAA;QACA,KAAAoB,eAAA,CAAApB,KAAA;QACA,IAAAwB,GAAA,QAAAxE,WAAA,QAAAF,WAAA;QAEA,IAAA0E,GAAA;UACAA,GAAA;QACA;QACA,KAAAzF,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,GAAAkF,GAAA;MACA,WAAA3C,CAAA,CAAAsB,OAAA;QACA,KAAApE,IAAA,CAAAiE,KAAA,EAAArD,iBAAA;QACA,KAAAZ,IAAA,CAAAiE,KAAA,EAAAxD,iBAAA;QACA,KAAAT,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,QAAAV,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,CAAAmF,IAAA;QACA,KAAA1F,IAAA,CAAAiE,KAAA,EAAA1D,MAAA;QACA,KAAAP,IAAA,CAAAiE,KAAA,EAAAzD,UAAA;QACA,IAAAG,UAAA;QACA,KAAAX,IAAA,CAAAiE,KAAA,EAAAtD,UAAA,QAAAgF,aAAA,MAAA3F,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,EAAAC,UAAA;QACA,KAAAyE,eAAA;QACA,KAAAC,eAAA;QACA;MACA,WAAAvC,CAAA,CAAAsB,OAAA,UAAAtB,CAAA,CAAAsB,OAAA,UAAAtB,CAAA,CAAAsB,OAAA;QACA,KAAAa,WAAA,CAAAhB,KAAA,EAAAnB,CAAA,EAAAoC,OAAA;QACA;MACA;MACA,KAAAlF,IAAA,CAAAiE,KAAA,EAAAvD,MAAA;MACA,KAAAV,IAAA,CAAAiE,KAAA,EAAAtD,UAAA;MACA,IAAAJ,MAAA,QAAAP,IAAA,CAAAiE,KAAA,EAAA1D,MAAA;MACA,IAAAC,UAAA;MACA,KAAAR,IAAA,CAAAiE,KAAA,EAAAzD,UAAA,QAAAmF,aAAA,CAAApF,MAAA,EAAAC,UAAA;MACA,KAAA4E,eAAA;MACA,KAAAC,eAAA;IACA;IACAD,gBAAAnB,KAAA;MACA,IAAAlD,WAAA;MACA,SAAA4B,CAAA,SAAA3C,IAAA;QACA,SAAAA,IAAA,CAAA2C,CAAA,EAAApC,MAAA,iBAAAP,IAAA,CAAA2C,CAAA,EAAApC,MAAA;UACA,MAAA0D,KAAA,IAAAA,KAAA,IAAAtB,CAAA;YACA5B,WAAA,SAAAf,IAAA,CAAA2C,CAAA,EAAApC,MAAA;UACA;QACA;MACA;MACA,KAAAQ,WAAA,GAAAA,WAAA;MACAA,WAAA,GAAAA,WAAA;MACA,IAAAC,eAAA;MACA,KAAAA,eAAA,QAAA2E,aAAA,CAAA5E,WAAA,EAAAC,eAAA;IACA;IACA4E,iBAAA3B,KAAA,EAAAnB,CAAA,EAAAoC,OAAA;MACA;MACA,IAAApC,CAAA,CAAAsB,OAAA;QACA,KAAAgB,eAAA,CAAAnB,KAAA;QACA,KAAAoB,eAAA,CAAApB,KAAA;QACA,IAAAwB,GAAA,QAAA1E,WAAA,QAAAE,WAAA;QACA,IAAAwE,GAAA;UACAA,GAAA;QACA;QACA,KAAAzF,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,GAAA+E,GAAA;MACA,WAAA3C,CAAA,CAAAsB,OAAA;QACA,KAAApE,IAAA,CAAAiE,KAAA,EAAAxD,iBAAA;QACA,KAAAT,IAAA,CAAAiE,KAAA,EAAArD,iBAAA;QACA,KAAAZ,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,QAAAP,IAAA,CAAAiE,KAAA,EAAAvD,MAAA,CAAAgF,IAAA;QACA,KAAA1F,IAAA,CAAAiE,KAAA,EAAAvD,MAAA;QACA,KAAAV,IAAA,CAAAiE,KAAA,EAAAtD,UAAA;QACA,IAAAH,UAAA;QACA,KAAAR,IAAA,CAAAiE,KAAA,EAAAzD,UAAA,QAAAmF,aAAA,MAAA3F,IAAA,CAAAiE,KAAA,EAAA1D,MAAA,EAAAC,UAAA;QACA,KAAA6E,eAAA;QACA,KAAAD,eAAA;QACA;MACA,WAAAtC,CAAA,CAAAsB,OAAA,UAAAtB,CAAA,CAAAsB,OAAA,UAAAtB,CAAA,CAAAsB,OAAA;QACA,KAAAa,WAAA,CAAAhB,KAAA,EAAAnB,CAAA,EAAAoC,OAAA;QACA;MACA;MACA,KAAAlF,IAAA,CAAAiE,KAAA,EAAA1D,MAAA;MACA,KAAAP,IAAA,CAAAiE,KAAA,EAAAzD,UAAA;MACA,IAAAE,MAAA,QAAAV,IAAA,CAAAiE,KAAA,EAAAvD,MAAA;MACA,IAAAC,UAAA;MACA,KAAAX,IAAA,CAAAiE,KAAA,EAAAtD,UAAA,QAAAgF,aAAA,CAAAjF,MAAA,EAAAC,UAAA;MACA,KAAA0E,eAAA;MACA,KAAAD,eAAA;IACA;IACAC,gBAAApB,KAAA;MACA,IAAAhD,WAAA;MACA,SAAA0B,CAAA,SAAA3C,IAAA;QACA,SAAAA,IAAA,CAAA2C,CAAA,EAAAjC,MAAA,iBAAAV,IAAA,CAAA2C,CAAA,EAAAjC,MAAA;UACA,MAAAuD,KAAA,IAAAA,KAAA,IAAAtB,CAAA;YACA1B,WAAA,SAAAjB,IAAA,CAAA2C,CAAA,EAAAjC,MAAA;UACA;QACA;MACA;MACA,KAAAO,WAAA,GAAAA,WAAA;MACAA,WAAA,GAAAA,WAAA;MACA,IAAAC,eAAA;MACA,KAAAA,eAAA,QAAAyE,aAAA,CAAA1E,WAAA,EAAAC,eAAA;IACA;IACAqD,QAAA;MACA,IAAAsB,GAAA;QACA5F,IAAA;QACAC,eAAA;QACAC,OAAA;UACAC,MAAA;UACAb,IAAA;UACAc,UAAA;QACA;QACAC,kBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,MAAA;QACAC,UAAA;QACAC,iBAAA;QACAC,WAAA;QACAC,SAAA;MACA;MACA,KAAAd,IAAA,CAAA8F,IAAA,CAAAD,GAAA;IACA;IACAE,WAAA9B,KAAA;MACA,SAAAjE,IAAA,CAAA4C,MAAA;QACA,KAAAoD,QAAA,CAAAC,KAAA;QACA;MACA;MACA,KAAAjG,IAAA,CAAAkG,MAAA,CAAAjC,KAAA;MACA,KAAAmB,eAAA;MACA,KAAAC,eAAA;IACA;IAEAM,cAAApF,MAAA,EAAAC,UAAA;MACAD,MAAA,GAAAA,MAAA,CAAA4F,OAAA;MACA;MACA,IAAA5F,MAAA,CAAAqE,OAAA;QACArE,MAAA,IAAAA,MAAA,MAAAsE,OAAA;QACAtE,MAAA,IAAAA,MAAA,OAAA4F,OAAA;MACA;QACA5F,MAAA,GAAAA,MAAA;MACA;MACA,IAAAA,MAAA,CAAAqC,MAAA;QACA,IAAA6C,GAAA,GAAAjF,UAAA,CAAAoC,MAAA,GAAArC,MAAA,CAAAqC,MAAA;QACA,SAAAD,CAAA,MAAAA,CAAA,GAAApC,MAAA,CAAAqC,MAAA,EAAAD,CAAA;UACAnC,UAAA,CAAAmC,CAAA,GAAA8C,GAAA,IAAAlF,MAAA,CAAA6F,MAAA,CAAAzD,CAAA;QACA;MACA;QACA,SAAAA,CAAA,MAAAA,CAAA,GAAApC,MAAA,CAAAqC,MAAA,EAAAD,CAAA;UACAnC,UAAA,CAAAmC,CAAA,IAAApC,MAAA,CAAA6F,MAAA,CAAAzD,CAAA;QACA;MACA;MACA,OAAAnC,UAAA;IACA;IACA6F,cAAA;MACA,UAAAtF,WAAA,cAAAE,WAAA,eAAAA,WAAA,aAAAF,WAAA;QACA,KAAAiF,QAAA,CAAAC,KAAA;QACA;MACA;MACA,IAAAK,QAAA;MACA,SAAA3D,CAAA,SAAA3C,IAAA;QACA,SAAAA,IAAA,CAAA2C,CAAA,EAAA1C,IAAA,iBAAAD,IAAA,CAAA2C,CAAA,EAAA1C,IAAA;UACAqG,QAAA;QACA;QACA,SAAAtG,IAAA,CAAA2C,CAAA,EAAAxC,OAAA,CAAAZ,IAAA,iBAAAS,IAAA,CAAA2C,CAAA,EAAAxC,OAAA,CAAAZ,IAAA;UACA,KAAAyG,QAAA,CAAAC,KAAA,QAAAtD,CAAA;UACA;QACA;QACA,UAAA3C,IAAA,CAAA2C,CAAA,EAAApC,MAAA,iBAAAP,IAAA,CAAA2C,CAAA,EAAApC,MAAA,iBAAAP,IAAA,CAAA2C,CAAA,EAAAjC,MAAA,iBAAAV,IAAA,CAAA2C,CAAA,EAAAjC,MAAA;UACA,KAAAsF,QAAA,CAAAC,KAAA,QAAAtD,CAAA;UACA;QACA;MACA;MACA,IAAA2D,QAAA;QACA,KAAAN,QAAA,CAAAC,KAAA;QACA;MACA;MAEA,IAAAjG,IAAA;MACA,SAAAuG,CAAA,MAAAA,CAAA,QAAAvG,IAAA,CAAA4C,MAAA,EAAA2D,CAAA;QACA,IAAAV,GAAA;UACAW,WAAA,OAAAxG,IAAA,CAAAuG,CAAA,EAAAtG,IAAA;UACAwG,aAAA,OAAAzG,IAAA,CAAAuG,CAAA,EAAApG,OAAA,CAAAC,MAAA;UACAsG,WAAA,OAAA1G,IAAA,CAAAuG,CAAA,EAAApG,OAAA,CAAAZ,IAAA;UACAoH,aAAA,OAAA3G,IAAA,CAAAuG,CAAA,EAAApG,OAAA,CAAAE,UAAA;UACAuG,cAAA,OAAA5G,IAAA,CAAAuG,CAAA,EAAAzF,SAAA;UACA+F,gBAAA,OAAA7G,IAAA,CAAAuG,CAAA,EAAAhG,MAAA;UACAuG,iBAAA,OAAA9G,IAAA,CAAAuG,CAAA,EAAA7F;QACA;QACAV,IAAA,CAAA8F,IAAA,CAAAD,GAAA;MACA;MACA,IAAAkB,MAAA;QACAC,EAAA,OAAAA,EAAA;QACAnF,MAAA,OAAAA,MAAA;QACAoF,UAAA;QACAC,WAAA,OAAAxH,OAAA,CAAAC,IAAA;QACAwH,aAAA,OAAAzH,OAAA,CAAAE,EAAA;QACAwH,IAAA,OAAAC,UAAA,6BAAA3H,OAAA,CAAAG,IAAA;QACAyH,WAAA,OAAArG,WAAA;QACAsG,UAAA,OAAAxG,WAAA;QACAyG,WAAA,OAAA9H,OAAA,CAAAK,IAAA;QACAC,IAAA,EAAAA;MACA;MAEA,OAAA+G,MAAA;IACA;IACAM,WAAAI,GAAA,EAAA5H,IAAA;MACA,WAAAA,IAAA;QACAA,IAAA,OAAAC,IAAA,CAAAD,IAAA;MACA;MAEA,IAAA6H,CAAA;QACA,MAAA7H,IAAA,CAAA8H,QAAA;QAAA;QACA,MAAA9H,IAAA,CAAA+H,OAAA;QAAA;QACA,MAAA/H,IAAA,CAAAgI,QAAA;QAAA;QACA,MAAAhI,IAAA,CAAAiI,UAAA;QAAA;QACA,MAAAjI,IAAA,CAAAkI,UAAA;QAAA;QACA,MAAAC,IAAA,CAAAC,KAAA,EAAApI,IAAA,CAAA8H,QAAA;QAAA;QACA,KAAA9H,IAAA,CAAAqI,eAAA;MACA;MACA,WAAAC,IAAA,CAAAV,GAAA,GACAA,GAAA,GAAAA,GAAA,CAAAtB,OAAA,CAAAiC,MAAA,CAAAC,EAAA,GAAAxI,IAAA,CAAAyI,WAAA,SAAAC,MAAA,KAAAH,MAAA,CAAAC,EAAA,CAAAzF,MAAA;MACA,SAAA4F,CAAA,IAAAd,CAAA,EACA,QAAAU,MAAA,OAAAI,CAAA,QAAAL,IAAA,CAAAV,GAAA,GACAA,GAAA,GAAAA,GAAA,CAAAtB,OAAA,CAAAiC,MAAA,CAAAC,EAAA,EAAAD,MAAA,CAAAC,EAAA,CAAAzF,MAAA,QAAA8E,CAAA,CAAAc,CAAA,YAAAd,CAAA,CAAAc,CAAA,GAAAD,MAAA,OAAAb,CAAA,CAAAc,CAAA,GAAA5F,MAAA;MACA,OAAA6E,GAAA;IACA;IACAnD,aAAAmE,MAAA;MACA,IAAA1B,MAAA,QAAAV,aAAA;MACA;;MAEA,IAAAU,MAAA;QACAlI,MAAA,CAAAkI,MAAA,EAAA7E,IAAA,CAAAC,QAAA;UACA,IAAAA,QAAA,CAAAuG,IAAA;YAEA,KAAAC,OAAA;cACAC,KAAA;cACAC,OAAA;cACApE,IAAA;cACAqE,QAAA;YACA;YACA,KAAAzG,IAAA;UACA;YACA,KAAAsG,OAAA;cACAC,KAAA;cACAC,OAAA,EAAA1G,QAAA,CAAA4G,GAAA;cACAtE,IAAA;cACAqE,QAAA;YACA;UACA;QACA;MACA;IACA;IACAE,SAAA;MACA,IAAAjC,MAAA,QAAAV,aAAA;MACA;;MAEA,IAAAU,MAAA;QACAhI,MAAA,MAAAiI,EAAA,EAAAD,MAAA,EAAA7E,IAAA,CAAAC,QAAA;UACA,IAAAA,QAAA,CAAAuG,IAAA;YAEA,KAAAC,OAAA;cACAC,KAAA;cACAC,OAAA;cACApE,IAAA;cACAqE,QAAA;YACA;YAEA,KAAAG,KAAA,kBAAA9G,QAAA;UAEA;YACA,KAAAwG,OAAA;cACAC,KAAA;cACAC,OAAA,EAAA1G,QAAA,CAAA4G,GAAA;cACAtE,IAAA;cACAqE,QAAA;YACA;UACA;QACA;MACA;IACA;IACAzG,KAAA;MACA,SAAA2E,EAAA,gBAAAA,EAAA,KAAA1D,SAAA;QACAxE,MAAA,MAAAkI,EAAA,EACA9E,IAAA,CAAAC,QAAA;UACA,MAAA1C,IAAA,GAAA0C,QAAA,CAAA1C,IAAA;UACA,KAAAC,OAAA;YAAAC,IAAA,EAAAF,IAAA,CAAAyH,WAAA;YAAAtH,EAAA,EAAAH,IAAA,CAAA0H,aAAA;YAAAtH,IAAA,EAAAJ,IAAA,CAAA2H,IAAA;YAAArH,IAAA,EAAAN,IAAA,CAAA+H;UAAA;UACA,KAAAxH,IAAA;UACA,IAAAa,WAAA;UACA,SAAA8B,CAAA,MAAAA,CAAA,GAAAlD,IAAA,CAAAO,IAAA,CAAA4C,MAAA,EAAAD,CAAA;YACA,IAAApC,MAAA,GAAAd,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAkE,gBAAA,aAAApH,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAkE,gBAAA;YACA,IAAArG,UAAA,GAAAD,MAAA,0DAAAoF,aAAA,CAAApF,MAAA;YACA,IAAAG,MAAA,GAAAjB,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAmE,iBAAA,aAAArH,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAmE,iBAAA;YACA,IAAAnG,UAAA,GAAAD,MAAA,0DAAAiF,aAAA,CAAAjF,MAAA;YACA,IAAAjB,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAiE,cAAA,YAAAnH,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAiE,cAAA;cACA/F,WAAA;YACA;YACA,IAAAgF,GAAA;cACA5F,IAAA,EAAAR,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAA6D,WAAA;cACAtG,eAAA;cACAC,OAAA;gBACAC,MAAA,EAAAX,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAA8D,aAAA;gBACAlH,IAAA,EAAAE,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAA+D,WAAA;gBACArG,UAAA,EAAAZ,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAgE;cACA;cACArG,kBAAA;cACAC,MAAA,EAAAA,MAAA;cACAC,UAAA,EAAAA,UAAA;cACAC,iBAAA;cACAC,MAAA,EAAAA,MAAA;cACAC,UAAA,EAAAA,UAAA;cACAC,iBAAA;cACAC,WAAA,EAAApB,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAiE,cAAA;cACA9F,SAAA,EAAArB,IAAA,CAAAO,IAAA,CAAA2C,CAAA,EAAAiE;YACA;YACA,KAAA5G,IAAA,CAAA8F,IAAA,CAAAD,GAAA;UACA;UACA,KAAA9E,WAAA,GAAAtB,IAAA,CAAA8H,UAAA;UACA,KAAAvG,eAAA,QAAA2E,aAAA,MAAA5E,WAAA;UACA,KAAAE,WAAA,GAAAxB,IAAA,CAAA6H,WAAA;UACA,KAAApG,eAAA,QAAAyE,aAAA,MAAA1E,WAAA;UACA,KAAAK,iBAAA;UACA,KAAAC,oBAAA;UACA,KAAAC,sBAAA;UACA,KAAAI,WAAA;UACA,KAAAH,eAAA;UACA,KAAAC,kBAAA;UACA,KAAAC,oBAAA;UACA,KAAAd,WAAA,GAAAA,WAAA;UACA,KAAAgB,MAAA,GAAApC,IAAA,CAAAoC,MAAA;QACA;MACA;QACA,KAAAnC,OAAA;UAAAC,IAAA;UAAAC,EAAA;UAAAC,IAAA,MAAAC,IAAA;UAAAC,IAAA;QAAA;QACA,KAAAC,IAAA,IACA;UACAC,IAAA;UACAC,eAAA;UACAC,OAAA;YACAC,MAAA;YACAb,IAAA;YACAc,UAAA;UACA;UACAC,kBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,WAAA;UACAC,SAAA;QACA,GACA;UACAb,IAAA;UACAC,eAAA;UACAC,OAAA;YACAC,MAAA;YACAb,IAAA;YACAc,UAAA;UACA;UACAC,kBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,WAAA;UACAC,SAAA;QACA,GACA;UACAb,IAAA;UACAC,eAAA;UACAC,OAAA;YACAC,MAAA;YACAb,IAAA;YACAc,UAAA;UACA;UACAC,kBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,WAAA;UACAC,SAAA;QACA,GACA;UACAb,IAAA;UACAC,eAAA;UACAC,OAAA;YACAC,MAAA;YACAb,IAAA;YACAc,UAAA;UACA;UACAC,kBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,MAAA;UACAC,UAAA;UACAC,iBAAA;UACAC,WAAA;UACAC,SAAA;QACA,EACA;QACA,KAAAC,WAAA;QACA,KAAAC,eAAA;QACA,KAAAC,WAAA;QACA,KAAAC,eAAA;QACA,KAAAI,iBAAA;QACA,KAAAC,oBAAA;QACA,KAAAC,sBAAA;QACA,KAAAC,eAAA;QACA,KAAAC,kBAAA;QACA,KAAAC,oBAAA;QACA,KAAAd,WAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}