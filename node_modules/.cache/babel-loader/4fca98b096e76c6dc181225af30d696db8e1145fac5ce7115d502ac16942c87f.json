{"ast":null,"code":"import axios from '@/utils/request';\nimport { addRouteByRole } from '@/router';\nexport default {\n  data() {\n    return {\n      // true： 展示密码  眼睛（开）  false： 展示点点点  眼睛（关）\n      showPwd: false,\n      // 表单的数据\n      form: {\n        account: '',\n        password: '',\n        role: ''\n      },\n      // 表单的规则集: 键名： 你要对表单数据对象下的哪一个属性配置规则, 键名： 真正的规则：数组， 当你只有一个规则的时候，可以就是一个对象\n      rules: {\n        // 非空校验\n        account: {\n          required: true,\n          message: '请输入账号',\n          trigger: 'change'\n        },\n        password: {\n          required: true,\n          message: '请输入密码',\n          trigger: 'change'\n        }\n      }\n    };\n  },\n  methods: {\n    clickEyes() {\n      this.showPwd = !this.showPwd;\n    },\n    // 提交表单 async\n    async submit() {\n      try {\n        const res = await this.$refs.ruleform.validate();\n        console.log(res);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","addRouteByRole","data","showPwd","form","account","password","role","rules","required","message","trigger","methods","clickEyes","submit","res","$refs","ruleform","validate","console","log","error"],"sources":["src/views/login/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login-wrapper\">\n    <div class=\"login-form\">\n      <h2 class=\"login-title\">系统登录</h2>\n      <!-- 表单的容器 -->\n      <el-form ref=\"ruleform\" :model=\"form\" :rules=\"rules\">\n        <!-- 表单项 -->\n        <el-form-item prop=\"account\">\n          <!-- 该表单项的内容 -->\n          <el-input suffix-icon=\"icon-yonghu iconfont\" prefix-icon=\"el-icon-search\" placeholder=\"请输入账号\"\n            v-model=\"form.account\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input :type=\"showPwd ? 'text' : 'password'\" placeholder=\"请输入密码\" v-model=\"form.password\">\n            <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\n            <!-- 尾部插入图标: -->\n            <i slot=\"suffix\" @click=\"clickEyes\" class=\"iconfont\"\n              :class=\"{ 'icon-yanjing': showPwd, 'icon-biyanjing': !showPwd }\"></i>\n          </el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button @click=\"submit\" style=\"width: 100%\" type=\"primary\">登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from '@/utils/request'\nimport { addRouteByRole } from '@/router'\nexport default {\n  data() {\n    return {\n      // true： 展示密码  眼睛（开）  false： 展示点点点  眼睛（关）\n      showPwd: false,\n      // 表单的数据\n      form: {\n        account: '',\n        password: '',\n        role:'',\n      },\n      // 表单的规则集: 键名： 你要对表单数据对象下的哪一个属性配置规则, 键名： 真正的规则：数组， 当你只有一个规则的时候，可以就是一个对象\n      rules: {\n        // 非空校验\n        account: { required: true, message: '请输入账号', trigger: 'change' },\n        password: { required: true, message: '请输入密码', trigger: 'change' },\n      }\n    }\n  },\n  methods: {\n    clickEyes() {\n      this.showPwd = !this.showPwd\n    },\n    // 提交表单 async\n    async submit() {\n      try {\n        const res = await this.$refs.ruleform.validate()\n        console.log(res)\n      } catch (error) {\n        console.log(error)\n      }\n\n    }\n  }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.login-wrapper {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #2d3a4b;\n\n  .login-form {\n    width: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .login-title {\n      margin: 20px;\n      font-weight: 700;\n      font-size: 22px;\n      color: #fff;\n    }\n\n    .el-form {\n      width: 100%;\n    }\n  }\n\n  ::v-deep .el-input__inner {\n    background-color: #2d3a4b;\n  }\n\n  ::v-deep .el-input input {\n    color: #fff;\n  }\n}</style>"],"mappings":"AA6BA,OAAAA,KAAA;AACA,SAAAC,cAAA;AACA;EACAC,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAC,IAAA;QACAC,OAAA;QACAC,QAAA;QACAC,IAAA;MACA;MACA;MACAC,KAAA;QACA;QACAH,OAAA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAL,QAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,UAAA;MACA,KAAAV,OAAA,SAAAA,OAAA;IACA;IACA;IACA,MAAAW,OAAA;MACA;QACA,MAAAC,GAAA,cAAAC,KAAA,CAAAC,QAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAL,GAAA;MACA,SAAAM,KAAA;QACAF,OAAA,CAAAC,GAAA,CAAAC,KAAA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}