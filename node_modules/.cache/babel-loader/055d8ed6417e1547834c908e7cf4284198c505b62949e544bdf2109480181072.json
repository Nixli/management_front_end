{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport dayjs from \"dayjs\";\nimport axios from \"axios\";\nimport { Row } from \"element-ui\";\nexport default {\n  data() {\n    return {\n      accountBooksList: [],\n      checkBooklist: [],\n      dialogFormVisible: false,\n      isTrueOrFalse: false,\n      userFormData: {\n        bookName: '',\n        companyName: '',\n        businessAddress: '',\n        industry: '',\n        contactPerson: '',\n        contactPhoneNumber: '',\n        vatType: '',\n        notes: ''\n      },\n      id: ''\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    async getList() {\n      const res = await axios({\n        method: \"get\",\n        url: \"/accountBooks\"\n      });\n      /* this.accountBooksList = res.data.data */\n\n      // 修改日期格式\n      this.accountBooksList = res.data.data.map(item => {\n        return {\n          ...item,\n          ctime: dayjs(item.ctime).format('YYYY-MM-DD HH:mm:ss')\n        };\n      });\n    },\n    viewAccountDetails(bookID, bookName) {\n      // 存储具体某个账套的bookID到localStorage\n      localStorage.setItem(\"bookID\", bookID);\n      localStorage.setItem(\"bookName\", bookName);\n      // 这里可以跳转到具体账套的详细信息页面或执行其他操作\n      // 示例：跳转到名为'/accountDetails'的路由\n      this.$router.push('/home');\n    },\n    // 打开新增弹窗，\n    addOpen() {\n      // 打开弹窗\n      this.dialogFormVisible = true;\n      // 记录状态\n      // 重置userFormData\n      this.userFormData = {\n        bookName: '',\n        companyName: '',\n        businessAddress: '',\n        industry: '',\n        contactPerson: '',\n        contactPhoneNumber: '',\n        vatType: '',\n        notes: ''\n      };\n    },\n    check() {\n      this.isTrueOrFalse = true;\n    },\n    async submit() {\n      // 拷贝userFormData到data\n      const data = {\n        ...this.userFormData\n      };\n      const res = await axios({\n        url: '/accountBooks',\n        method: 'post',\n        data: data\n      });\n      this.dialogFormVisible = false;\n      this.getList();\n    }\n  }\n};","map":{"version":3,"names":["dayjs","axios","Row","data","accountBooksList","checkBooklist","dialogFormVisible","isTrueOrFalse","userFormData","bookName","companyName","businessAddress","industry","contactPerson","contactPhoneNumber","vatType","notes","id","created","getList","methods","res","method","url","map","item","ctime","format","viewAccountDetails","bookID","localStorage","setItem","$router","push","addOpen","check","submit"],"sources":["src/views/accountBooks/AccountBooks.vue"],"sourcesContent":["<template>\r\n    <el-card>\r\n\r\n        <el-card style=\"text-align:center\">\r\n            <span style=\"font-size: 24px;font-weight: bold;font-family: 'Times New Roman', Times, serif;\">账套管理</span>\r\n        </el-card>\r\n\r\n\r\n        <el-card style=\"margin-top:20px\">\r\n            <span style=\"font-size: 16px;font-weight: bold;font-family: 'Times New Roman', Times, serif;\">账套管理</span>\r\n            <el-button style=\"margin-left:20px\" @click=\"addOpen\">新增账套</el-button>\r\n        </el-card>\r\n        <!-- 账套区域 -->\r\n        <el-row>\r\n            <el-col v-for=\"item in accountBooksList\" :span=\"8\">\r\n                <el-card>\r\n                    <div slot=\"header\" class=\"clearfix\">\r\n                        <span>{{ item.bookName }}</span>\r\n\r\n                        <el-button  type=\"text\" style=\"margin-left: 230px;\"\r\n                            @click=\"check(item.bookID)\">\r\n                            当前账套具体信息\r\n                        </el-button>\r\n\r\n                        <el-button type=\"text\"\r\n                            @click=\"viewAccountDetails(item.bookID,item.bookName)\">\r\n                            进入账套\r\n                        </el-button>\r\n                    </div>\r\n                    <p style=\"margin-top:10px\">{{ item.bookName }}</p>\r\n                    <p style=\"margin-top:20px\">公司名称：{{ item.companyName }}</p>\r\n                    <p style=\"margin-top:20px\">纳税类型：{{ item.vatType }}</p>\r\n                    <p style=\"margin-top:20px\">启用时间：{{ item.ctime }}</p>\r\n                    \r\n\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <!-- 新增弹窗区域 -->\r\n        <el-dialog :title=\"新增账套具体信息\" :visible.sync=\"dialogFormVisible\">\r\n            <el-form :model=\"userFormData\" class=\"demo-form-inline\" label-width=\"120px\">\r\n\r\n                <el-form-item label=\"账套名称\">\r\n                    <el-input v-model=\"userFormData.bookName\" placeholder=\"账套名称\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"单位名称\">\r\n                    <el-input v-model=\"userFormData.companyName\" placeholder=\"单位名称\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"经营地址\">\r\n                    <el-input v-model=\"userFormData.businessAddress\" placeholder=\"经营地址\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"行业\">\r\n                    <el-input v-model=\"userFormData.industry\" placeholder=\"行业\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"联系人\">\r\n                    <el-input v-model=\"userFormData.contactPerson\" placeholder=\"联系人\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"联系人电话\">\r\n                    <el-input v-model=\"userFormData.contactPhoneNumber\" placeholder=\"联系人电话\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"纳税类型\">\r\n                    <el-input v-model=\"userFormData.vatType\" placeholder=\"纳税类型\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"账套备注\">\r\n                    <el-input v-model=\"userFormData.notes\" placeholder=\"账套备注\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                    <el-button @click=\"submit\">提交</el-button>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n        </el-dialog>\r\n\r\n        <!-- 查看弹窗区域 -->\r\n        <el-dialog :title=\"查看账套具体信息\" :visible.sync=\"isTrueOrFalse\">\r\n            <el-form :model=\"userFormData\" class=\"demo-form-inline\" label-width=\"120px\">\r\n\r\n                <el-form-item label=\"账套名称\">\r\n                    <el-input v-model=\"userFormData.bookName\" placeholder=\"账套名称\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"单位名称\">\r\n                    <el-input v-model=\"userFormData.companyName\" placeholder=\"单位名称\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"经营地址\">\r\n                    <el-input v-model=\"userFormData.businessAddress\" placeholder=\"经营地址\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"行业\">\r\n                    <el-input v-model=\"userFormData.industry\" placeholder=\"行业\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"联系人\">\r\n                    <el-input v-model=\"userFormData.contactPerson\" placeholder=\"联系人\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"联系人电话\">\r\n                    <el-input v-model=\"userFormData.contactPhoneNumber\" placeholder=\"联系人电话\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"纳税类型\">\r\n                    <el-input v-model=\"userFormData.vatType\" placeholder=\"纳税类型\"></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"账套备注\">\r\n                    <el-input v-model=\"userFormData.notes\" placeholder=\"账套备注\"></el-input>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n        </el-dialog>\r\n\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\n\r\nimport dayjs from \"dayjs\";\r\nimport axios from \"axios\";\r\nimport { Row } from \"element-ui\";\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            accountBooksList: [],\r\n            checkBooklist:[],\r\n            dialogFormVisible: false,\r\n            isTrueOrFalse:false,\r\n            userFormData: {\r\n                bookName: '',\r\n                companyName: '',\r\n                businessAddress: '',\r\n                industry: '',\r\n                contactPerson: '',\r\n                contactPhoneNumber: '',\r\n                vatType: '',\r\n                notes: '',\r\n            },\r\n            id: '',\r\n        };\r\n    },\r\n    created() {\r\n        this.getList()\r\n    },\r\n    methods: {\r\n        async getList() {\r\n            const res = await axios({\r\n                method: \"get\",\r\n                url: \"/accountBooks\",\r\n            });\r\n            /* this.accountBooksList = res.data.data */\r\n\r\n            // 修改日期格式\r\n            this.accountBooksList = res.data.data.map(item => {\r\n                return {\r\n                    ...item,\r\n                    ctime: dayjs(item.ctime).format('YYYY-MM-DD HH:mm:ss'),\r\n                };\r\n            });\r\n        },\r\n\r\n        viewAccountDetails(bookID,bookName) {\r\n            // 存储具体某个账套的bookID到localStorage\r\n            localStorage.setItem(\"bookID\", bookID);\r\n            localStorage.setItem(\"bookName\", bookName);\r\n            // 这里可以跳转到具体账套的详细信息页面或执行其他操作\r\n            // 示例：跳转到名为'/accountDetails'的路由\r\n            this.$router.push('/home');\r\n        },\r\n\r\n         // 打开新增弹窗，\r\n         addOpen() {\r\n            // 打开弹窗\r\n            this.dialogFormVisible = true\r\n            // 记录状态\r\n            // 重置userFormData\r\n            this.userFormData = {\r\n                bookName: '',\r\n                companyName: '',\r\n                businessAddress: '',\r\n                industry: '',\r\n                contactPerson: '',\r\n                contactPhoneNumber: '',\r\n                vatType: '',\r\n                notes: '',\r\n            }\r\n        },\r\n\r\n        check(){\r\n            this.isTrueOrFalse = true\r\n            \r\n        },\r\n\r\n         async submit() {\r\n            // 拷贝userFormData到data\r\n            const data = { ...this.userFormData }\r\n            const res = await axios({\r\n                url: '/accountBooks',\r\n                method: 'post',\r\n                data: data\r\n            })\r\n            this.dialogFormVisible = false\r\n            this.getList()\r\n        },\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.text {\r\n    font-size: 14px;\r\n}\r\n\r\n.item {\r\n    margin-bottom: 18px;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n    display: table;\r\n    content: \"\";\r\n}\r\n\r\n.clearfix:after {\r\n    clear: both\r\n}\r\n\r\n.box-card {\r\n    width: 480px;\r\n}\r\n</style>"],"mappings":";AA8HA,OAAAA,KAAA;AACA,OAAAC,KAAA;AACA,SAAAC,GAAA;AACA;EAEAC,KAAA;IACA;MACAC,gBAAA;MACAC,aAAA;MACAC,iBAAA;MACAC,aAAA;MACAC,YAAA;QACAC,QAAA;QACAC,WAAA;QACAC,eAAA;QACAC,QAAA;QACAC,aAAA;QACAC,kBAAA;QACAC,OAAA;QACAC,KAAA;MACA;MACAC,EAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,OAAA;IACA,MAAAD,QAAA;MACA,MAAAE,GAAA,SAAApB,KAAA;QACAqB,MAAA;QACAC,GAAA;MACA;MACA;;MAEA;MACA,KAAAnB,gBAAA,GAAAiB,GAAA,CAAAlB,IAAA,CAAAA,IAAA,CAAAqB,GAAA,CAAAC,IAAA;QACA;UACA,GAAAA,IAAA;UACAC,KAAA,EAAA1B,KAAA,CAAAyB,IAAA,CAAAC,KAAA,EAAAC,MAAA;QACA;MACA;IACA;IAEAC,mBAAAC,MAAA,EAAApB,QAAA;MACA;MACAqB,YAAA,CAAAC,OAAA,WAAAF,MAAA;MACAC,YAAA,CAAAC,OAAA,aAAAtB,QAAA;MACA;MACA;MACA,KAAAuB,OAAA,CAAAC,IAAA;IACA;IAEA;IACAC,QAAA;MACA;MACA,KAAA5B,iBAAA;MACA;MACA;MACA,KAAAE,YAAA;QACAC,QAAA;QACAC,WAAA;QACAC,eAAA;QACAC,QAAA;QACAC,aAAA;QACAC,kBAAA;QACAC,OAAA;QACAC,KAAA;MACA;IACA;IAEAmB,MAAA;MACA,KAAA5B,aAAA;IAEA;IAEA,MAAA6B,OAAA;MACA;MACA,MAAAjC,IAAA;QAAA,QAAAK;MAAA;MACA,MAAAa,GAAA,SAAApB,KAAA;QACAsB,GAAA;QACAD,MAAA;QACAnB,IAAA,EAAAA;MACA;MACA,KAAAG,iBAAA;MACA,KAAAa,OAAA;IACA;EACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}