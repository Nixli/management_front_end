{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport { Row } from \"element-ui\";\nimport { Message } from 'element-ui';\nexport default {\n  data() {\n    return {\n      text: '付',\n      summary: '工资',\n      salaryID: '',\n      list: [],\n      // 分页相关\n      pageno: 1,\n      pagesize: 5,\n      total: 0,\n      // 搜索条件\n      params: {\n        assetName: dayjs().subtract(1, 'year').format('YYYY-MM-DD HH:mm:ss'),\n        brandModel: dayjs().format('YYYY-MM-DD HH:mm:ss')\n      },\n      userFormData: {\n        baseSalary: 0.00,\n        allowance: 0.00,\n        bonus: 0.00,\n        subsidy: 0.00,\n        deduction: 0.00,\n        personalIncomeTax: 0.00,\n        insurance: 0.00,\n        actualSalary: 0.00\n      },\n      bookID: 0,\n      employeeID: '',\n      actionType: '',\n      salaryID: '',\n      dialogFormVisible: false,\n      employeeList: [],\n      selectedEmployee: ''\n    };\n  },\n  created() {\n    this.bookID = localStorage.getItem('bookID');\n    this.getList();\n  },\n  methods: {\n    async updateApprovalStatus(row) {\n      const data = {\n        salaryID: row.salaryID,\n        isToVoucher: \"是\"\n      };\n      const res = await axios({\n        url: \"/salary\",\n        method: \"post\",\n        data: data\n      });\n      // this.getList()\n      localStorage.setItem('summary', this.summary);\n      localStorage.setItem('debitAmount', row.actualSalary);\n      localStorage.setItem('text', this.text);\n      // 等待两秒后跳转页面\n      Message.success('即将进入凭证界面');\n      setTimeout(() => {\n        // 跳转页面\n        this.$router.push('/voucher/Voucher?type=1');\n      }, 1000);\n    },\n    async getList() {\n      const formattedParams = {\n        ...this.params,\n        assetName: dayjs(this.params.assetName).format('YYYY-MM-DD HH:mm:ss'),\n        brandModel: dayjs(this.params.brandModel).format('YYYY-MM-DD HH:mm:ss')\n      };\n      const res = await axios({\n        method: \"get\",\n        url: \"http://localhost:8080/salary/findAll\",\n        params: {\n          pageno: this.pageno,\n          pagesize: this.pagesize,\n          bookID: this.bookID,\n          ...formattedParams\n        }\n      });\n      // 修改日期格式\n      this.list = res.data.data.map(item => {\n        return {\n          ...item,\n          baseSalary: parseFloat(item.baseSalary),\n          allowance: parseFloat(item.allowance),\n          bonus: parseFloat(item.bonus),\n          subsidy: parseFloat(item.subsidy),\n          deduction: parseFloat(item.deduction),\n          personalIncomeTax: parseFloat(item.personalIncomeTax),\n          actualSalary: parseFloat(item.actualSalary),\n          insurance: parseFloat(item.insurance),\n          // 其他字段...\n          payoutDate: dayjs(item.payoutDate).format('YYYY-MM-DD')\n        };\n      });\n      /* console.log(this.list) */\n      this.total = res.data.count;\n      const employeeListRes = await axios({\n        url: \"http://localhost:8080/employee/findAllEmployee\",\n        method: \"get\",\n        params: {\n          bookID: this.bookID\n        }\n      });\n      this.employeeList = employeeListRes.data.data;\n    },\n    // 点击搜索\n    search() {\n      this.getList();\n    },\n    // 页码改变\n    pagechange(pageno) {\n      // 条件改变\n      this.pageno = pageno;\n      // 重新请求数据\n      this.getList();\n    },\n    // 打开新增弹窗，\n    addOpen() {\n      // 打开弹窗\n      this.dialogFormVisible = true;\n      // 记录状态\n      this.actionType = 'add';\n      this.userFormData = {\n        baseSalary: 0.00,\n        allowance: 0.00,\n        bonus: 0.00,\n        subsidy: 0.00,\n        deduction: 0.00,\n        personalIncomeTax: 0.00,\n        insurance: 440.00,\n        actualSalary: 0.00\n      };\n      this.employeeID = this.selectedEmployee;\n      this.selectedEmployee = '';\n    },\n    //修改弹窗\n    edit(row) {\n      // 打开弹窗\n      this.dialogFormVisible = true;\n      // 数据回显\n      this.userFormData.baseSalary = row.baseSalary;\n      this.userFormData.allowance = row.allowance;\n      this.userFormData.bonus = row.bonus;\n      this.userFormData.subsidy = row.subsidy;\n      this.userFormData.deduction = row.deduction;\n      this.userFormData.personalIncomeTax = row.personalIncomeTax;\n      this.userFormData.actualSalary = row.actualSalary;\n      this.userFormData.insurance = row.insurance;\n      this.selectedEmployee = row.employee.employeeID;\n      // 记录id\n      this.salaryID = row.salaryID;\n      this.employeeID = this.selectedEmployee;\n      console.log(this.salaryID);\n      console.log(row);\n      // 记录动作\n      this.actionType = 'edit';\n    },\n    calculatePersonalIncomeTax() {\n      /* console.log('计算工资') */\n      // 先从 userFormData 中获取其他输入项的值\n\n      const {\n        baseSalary,\n        allowance,\n        bonus,\n        subsidy,\n        deduction,\n        insurance\n      } = this.userFormData;\n\n      // 计算总收入\n      const totalIncome = baseSalary + allowance + bonus + subsidy - deduction;\n\n      // 计算税前应纳税额\n      const taxableIncome = totalIncome - 5000;\n\n      // 根据不同的情况计算 personalIncomeTax\n      if (taxableIncome > 0 && taxableIncome <= 5000) {\n        this.userFormData.personalIncomeTax = taxableIncome * 0;\n      } else if (taxableIncome > 5000 && taxableIncome <= 8000) {\n        this.userFormData.personalIncomeTax = taxableIncome * 0.03;\n      } else if (taxableIncome > 8000 && taxableIncome <= 17000) {\n        this.userFormData.personalIncomeTax = parseFloat((taxableIncome * 0.1).toFixed(2));\n      } else if (taxableIncome > 17000) {\n        this.userFormData.personalIncomeTax = taxableIncome * 0.2;\n      } /* \r\n        console.log(this.userFormData, '______'); */\n      const actualSalary = totalIncome - this.userFormData.personalIncomeTax - insurance;\n      this.userFormData.actualSalary = actualSalary;\n    },\n    async deleteSalary(id) {\n      const data = {\n        salaryID: id\n      };\n      const res = await axios({\n        url: '/deleteSalary',\n        method: 'post',\n        data: data\n      });\n      this.getList();\n    },\n    async submit() {\n      const data = {\n        ...this.userFormData\n      };\n      data.employee = {\n        employeeID: this.selectedEmployee\n      };\n      if (this.actionType === 'edit') {\n        data.salaryID = this.salaryID;\n      }\n      const res = await axios({\n        url: '/salary',\n        method: 'post',\n        data: data\n      });\n      this.dialogFormVisible = false;\n      this.getList();\n    }\n  },\n  watch: {\n    userFormData: {\n      handler() {\n        /* console.log('数据发生变化了！！！') */\n        this.calculatePersonalIncomeTax();\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["axios","dayjs","Row","Message","data","text","summary","salaryID","list","pageno","pagesize","total","params","assetName","subtract","format","brandModel","userFormData","baseSalary","allowance","bonus","subsidy","deduction","personalIncomeTax","insurance","actualSalary","bookID","employeeID","actionType","dialogFormVisible","employeeList","selectedEmployee","created","localStorage","getItem","getList","methods","updateApprovalStatus","row","isToVoucher","res","url","method","setItem","success","setTimeout","$router","push","formattedParams","map","item","parseFloat","payoutDate","count","employeeListRes","search","pagechange","addOpen","edit","employee","console","log","calculatePersonalIncomeTax","totalIncome","taxableIncome","toFixed","deleteSalary","id","submit","watch","handler","deep"],"sources":["src/views/salary/Salary.vue"],"sourcesContent":["<template>\r\n    <div style=\"height: auto; width: auto;\">\r\n\r\n        <!-- 搜素和新增区域 -->\r\n        <el-card>\r\n            <div>\r\n                <el-row :gutter=\"20\">\r\n                    <!-- 搜索区域 -->\r\n                    <el-col :span=\"23\">\r\n                        <el-form :inline=\"true\" style=\"margin-top: 20px;\">\r\n                            <el-form-item label=\"根据月份查询\">\r\n                                <el-date-picker v-model=\"params.assetName\" type=\"date\" placeholder=\"开始日期\">\r\n                                </el-date-picker>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-date-picker v-model=\"params.brandModel\" type=\"date\" placeholder=\"截止日期\">\r\n                                </el-date-picker>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button @click=\"search()\" type=\"primary\" icon=\"el-icon-search\">搜索</el-button>\r\n                            </el-form-item>\r\n                            <el-button type=\"primary\" @click=\"addOpen\"><i\r\n                                    class=\"el-icon-circle-plus-outline el-icon--left\"></i>新增员工工资信息\r\n                            </el-button>\r\n                        </el-form>\r\n                    </el-col>\r\n                    <el-col :span=\"1\">\r\n                        <el-popover placement=\"top-start\" title=\"工资与保险的介绍\" width=\"200\" trigger=\"hover\" content=\"实际工资=基本工资\r\n                        +绩效工资+奖金+津贴+补贴-扣款-个人所得税扣款-保险\">\r\n                            <i class=\"el-icon-info\" style=\"font-size: 24px; margin-top: 25px;\" slot=\"reference\"></i>\r\n                        </el-popover>\r\n\r\n\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n            \r\n        </el-card>\r\n\r\n        <!-- 员工工资表 -->\r\n        <el-card style=\"margin-top: 20px;\">\r\n\r\n            <el-card>\r\n                <span style=\"font-size: 16px;font-weight: bold;\">员工工资表</span>\r\n            </el-card>\r\n\r\n            <el-table :data=\"list\" border style=\"width: 100%\">\r\n                <el-table-column prop=\"employee.name\" label=\"姓名\" width=\"70\" align=\"center\"\r\n                    fixed=\"left\"></el-table-column>\r\n                <el-table-column prop=\"baseSalary\" label=\"基本工资\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"allowance\" label=\"津贴\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"bonus\" label=\"奖金\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"subsidy\" label=\"补助\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"deduction\" label=\"扣款\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"personalIncomeTax\" label=\"个税\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"insurance\" label=\"保险金额\" align=\"center\"> </el-table-column>\r\n                <el-table-column prop=\"actualSalary\" label=\"实发工资\" align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column prop=\"payoutDate\" label=\"发放日期\" align=\"center\">\r\n                    <template #default=\"{ row }\">\r\n                        <div>\r\n                            <i class=\"el-icon-time \"></i> {{ row.payoutDate }}\r\n                        </div>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n                <el-table-column fixed=\"right\" label=\"操作\" align=\"center\">\r\n                    <template #default=\"{ row }\">\r\n                        <el-button type=\"text\" icon=\"el-icon-delete-solid\" size=\"medium\"\r\n                            @click=\"deleteSalary(row.salaryID)\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column fixed=\"right\" label=\"生成凭证\" align=\"center\">\r\n                    <template #default=\"{ row }\">\r\n                        <el-button v-if=\"row.isToVoucher === '否'\" type=\"text\" size=\"medium\" icon=\"el-icon-document\"\r\n                            @click=\"updateApprovalStatus(row)\">生成凭证</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n\r\n            <!-- 分页组件 -->\r\n            <el-pagination @current-change=\"pagechange\" background layout=\"prev, pager, next\" :total=\"total\"\r\n                :page-size=\"pagesize\" style=\"text-align: center; margin-top: 10px;\">\r\n            </el-pagination>\r\n        </el-card>\r\n\r\n        <!-- 弹窗区域 -->\r\n        <el-dialog :title=\"actionType == 'add' ? '新增员工工资信息' : '编辑员工工资信息'\" :visible.sync=\"dialogFormVisible\"\r\n            width=\"700px\" style=\"font-size: 24px;\">\r\n\r\n\r\n            <el-form :model=\"userFormData\" class=\"demo-form-inline\" label-width=\"100px\">\r\n\r\n                <!-- 第一行 -->\r\n                <el-form-item label=\"员工姓名\">\r\n                    <el-select v-model=\"selectedEmployee\" placeholder=\"选择员工\" clearable :disabled=\"actionType === 'edit'\"\r\n                        size=\"medium\">\r\n                        <el-option :label=\"employee.name\" :value=\"employee.employeeID\" :key=\"employee.employeeID\"\r\n                            v-for=\"employee in employeeList\" />\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"基本工资\">\r\n                            <el-input-number v-model=\"userFormData.baseSalary\" placeholder=\"基本工资\"\r\n                                controls-position=\"right\" size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"津贴\">\r\n                            <el-input-number v-model=\"userFormData.allowance\" placeholder=\"津贴\" controls-position=\"right\"\r\n                                size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <!-- 第二行 -->\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"奖金\">\r\n                            <el-input-number v-model=\"userFormData.bonus\" placeholder=\"奖金\" controls-position=\"right\"\r\n                                size=\"medium\">\r\n                            </el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"补助\">\r\n                            <el-input-number v-model=\"userFormData.subsidy\" placeholder=\"补助\" controls-position=\"right\"\r\n                                size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"扣款\">\r\n                            <el-input-number v-model=\"userFormData.deduction\" placeholder=\"扣款\" controls-position=\"right\"\r\n                                size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"个税\">\r\n                            <el-input-number disabled v-model=\"userFormData.personalIncomeTax\" placeholder=\"个税\"\r\n                                controls-position=\"right\" size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n                <el-row>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"保险金额\">\r\n                            <el-input-number disabled v-model=\"userFormData.insurance\" placeholder=\"保险金额\"\r\n                                controls-position=\"right\" size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"实发工资\">\r\n                            <el-input-number disabled v-model=\"userFormData.actualSalary\" placeholder=\"实发工资\"\r\n                                controls-position=\"right\" size=\"medium\"></el-input-number>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                </el-row>\r\n\r\n                <el-form-item>\r\n                    <el-button @click=\"submit\" style=\"width: 180px; margin-left: 110px\" type=\"primary\">提交<i\r\n                            class=\"el-icon-success el-icon--right\"></i></el-button>\r\n                </el-form-item>\r\n\r\n            </el-form>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from \"axios\";\r\nimport dayjs from \"dayjs\";\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport { Row } from \"element-ui\";\r\nimport { Message } from 'element-ui'\r\nexport default {\r\n\r\n    data() {\r\n        return {\r\n            text:'付',\r\n            summary:'工资',\r\n            salaryID:'',\r\n            list: [],\r\n            // 分页相关\r\n            pageno: 1,\r\n            pagesize: 5,\r\n            total: 0,\r\n            // 搜索条件\r\n            params: {\r\n                assetName: dayjs().subtract(1, 'year').format('YYYY-MM-DD HH:mm:ss'),\r\n                brandModel: dayjs().format('YYYY-MM-DD HH:mm:ss')\r\n            },\r\n            userFormData: {\r\n\r\n                baseSalary: 0.00,\r\n                allowance: 0.00,\r\n                bonus: 0.00,\r\n                subsidy: 0.00,\r\n                deduction: 0.00,\r\n                personalIncomeTax: 0.00,\r\n                insurance: 0.00,\r\n                actualSalary: 0.00\r\n            },\r\n            bookID: 0,\r\n            employeeID: '',\r\n            actionType: '',\r\n            salaryID: '',\r\n            dialogFormVisible: false,\r\n            employeeList: [],\r\n            selectedEmployee: ''\r\n        };\r\n    },\r\n    created() {\r\n        this.bookID = localStorage.getItem('bookID');\r\n        this.getList()\r\n    },\r\n\r\n    methods: {\r\n\r\n        async updateApprovalStatus(row) {\r\n            const data = {\r\n                salaryID: row.salaryID,\r\n                isToVoucher: \"是\"\r\n            }\r\n            const res = await axios({\r\n                url: \"/salary\",\r\n                method: \"post\",\r\n                data: data\r\n            })\r\n            // this.getList()\r\n            localStorage.setItem('summary', this.summary)\r\n            localStorage.setItem('debitAmount', row.actualSalary)\r\n            localStorage.setItem('text',this.text)\r\n            // 等待两秒后跳转页面\r\n            Message.success('即将进入凭证界面')\r\n            setTimeout(() => {\r\n                // 跳转页面\r\n                this.$router.push('/voucher/Voucher?type=1');\r\n            }, 1000);\r\n        },\r\n\r\n        async getList() {\r\n            const formattedParams = {\r\n                ...this.params,\r\n                assetName: dayjs(this.params.assetName).format('YYYY-MM-DD HH:mm:ss'),\r\n                brandModel: dayjs(this.params.brandModel).format('YYYY-MM-DD HH:mm:ss'),\r\n            };\r\n            const res = await axios({\r\n                method: \"get\",\r\n                url: \"http://localhost:8080/salary/findAll\",\r\n                params: {\r\n                    pageno: this.pageno,\r\n                    pagesize: this.pagesize,\r\n                    bookID: this.bookID,\r\n                    ...formattedParams\r\n                },\r\n            });\r\n            // 修改日期格式\r\n            this.list = res.data.data.map(item => {\r\n                return {\r\n                    ...item,\r\n                    baseSalary: parseFloat(item.baseSalary),\r\n                    allowance: parseFloat(item.allowance),\r\n                    bonus: parseFloat(item.bonus),\r\n                    subsidy: parseFloat(item.subsidy),\r\n                    deduction: parseFloat(item.deduction),\r\n                    personalIncomeTax: parseFloat(item.personalIncomeTax),\r\n                    actualSalary: parseFloat(item.actualSalary),\r\n                    insurance: parseFloat(item.insurance),\r\n                    // 其他字段...\r\n                    payoutDate: dayjs(item.payoutDate).format('YYYY-MM-DD'),\r\n                };\r\n            });\r\n            /* console.log(this.list) */\r\n            this.total = res.data.count;\r\n\r\n            const employeeListRes = await axios({\r\n                url: \"http://localhost:8080/employee/findAllEmployee\",\r\n                method: \"get\",\r\n                params: {\r\n                    bookID: this.bookID\r\n                }\r\n            })\r\n            this.employeeList = employeeListRes.data.data\r\n        },\r\n        // 点击搜索\r\n        search() {\r\n            this.getList()\r\n        },\r\n        // 页码改变\r\n        pagechange(pageno) {\r\n            // 条件改变\r\n            this.pageno = pageno\r\n            // 重新请求数据\r\n            this.getList()\r\n        },\r\n        // 打开新增弹窗，\r\n        addOpen() {\r\n            // 打开弹窗\r\n            this.dialogFormVisible = true;\r\n            // 记录状态\r\n            this.actionType = 'add';\r\n            this.userFormData = {\r\n                baseSalary: 0.00,\r\n                allowance: 0.00,\r\n                bonus: 0.00,\r\n                subsidy: 0.00,\r\n                deduction: 0.00,\r\n                personalIncomeTax: 0.00,\r\n                insurance: 440.00,\r\n                actualSalary: 0.00\r\n            };\r\n            this.employeeID = this.selectedEmployee;\r\n            this.selectedEmployee = ''\r\n        },\r\n        //修改弹窗\r\n        edit(row) {\r\n            // 打开弹窗\r\n            this.dialogFormVisible = true\r\n            // 数据回显\r\n            this.userFormData.baseSalary = row.baseSalary\r\n            this.userFormData.allowance = row.allowance\r\n            this.userFormData.bonus = row.bonus\r\n            this.userFormData.subsidy = row.subsidy\r\n            this.userFormData.deduction = row.deduction\r\n            this.userFormData.personalIncomeTax = row.personalIncomeTax\r\n            this.userFormData.actualSalary = row.actualSalary\r\n            this.userFormData.insurance = row.insurance\r\n            this.selectedEmployee = row.employee.employeeID\r\n            // 记录id\r\n            this.salaryID = row.salaryID\r\n            this.employeeID = this.selectedEmployee\r\n            console.log(this.salaryID)\r\n            console.log(row)\r\n            // 记录动作\r\n            this.actionType = 'edit'\r\n        },\r\n\r\n        calculatePersonalIncomeTax() {\r\n            /* console.log('计算工资') */\r\n            // 先从 userFormData 中获取其他输入项的值\r\n\r\n            const { baseSalary, allowance, bonus, subsidy, deduction, insurance } = this.userFormData;\r\n\r\n            // 计算总收入\r\n            const totalIncome = baseSalary + allowance + bonus + subsidy - deduction;\r\n\r\n            // 计算税前应纳税额\r\n            const taxableIncome = totalIncome - 5000;\r\n\r\n            // 根据不同的情况计算 personalIncomeTax\r\n            if (taxableIncome > 0 && taxableIncome <= 5000) {\r\n                this.userFormData.personalIncomeTax = taxableIncome * 0;\r\n            } else if (taxableIncome > 5000 && taxableIncome <= 8000) {\r\n                this.userFormData.personalIncomeTax = taxableIncome * 0.03;\r\n            } else if (taxableIncome > 8000 && taxableIncome <= 17000) {\r\n                this.userFormData.personalIncomeTax = parseFloat((taxableIncome * 0.1).toFixed(2));\r\n            } else if (taxableIncome > 17000) {\r\n                this.userFormData.personalIncomeTax = taxableIncome * 0.2;\r\n            }/* \r\n            console.log(this.userFormData, '______'); */\r\n            const actualSalary = totalIncome - this.userFormData.personalIncomeTax - insurance;\r\n            this.userFormData.actualSalary = actualSalary\r\n        },\r\n        async deleteSalary(id) {\r\n            const data = {\r\n                salaryID: id\r\n            }\r\n            const res = await axios({\r\n                url: '/deleteSalary',\r\n                method: 'post',\r\n                data: data\r\n            })\r\n            this.getList()\r\n        },\r\n\r\n        async submit() {\r\n            const data = {\r\n                ...this.userFormData,\r\n            }\r\n            data.employee = { employeeID: this.selectedEmployee };\r\n            if (this.actionType === 'edit') {\r\n                data.salaryID = this.salaryID\r\n            }\r\n            const res = await axios({\r\n                url: '/salary',\r\n                method: 'post',\r\n                data: data\r\n            })\r\n            this.dialogFormVisible = false\r\n            this.getList()\r\n        }\r\n    },\r\n    watch: {\r\n        userFormData: {\r\n            handler() {\r\n                /* console.log('数据发生变化了！！！') */\r\n                this.calculatePersonalIncomeTax()\r\n            },\r\n            deep: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.row-box {\r\n    width: 100%;\r\n    display: flex;\r\n    margin-top: 20px;\r\n    margin-bottom: 8px;\r\n    justify-content: center;\r\n}\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}